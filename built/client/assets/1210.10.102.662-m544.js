(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[1210],{87762:(e,t,i)=>{var a=i(11063),s=i(26143)(a);s.push([e.id,"main>details[data-v-e2832df2]{color:var(--text);cursor:pointer;margin:16px 8px}main>*>.post[data-v-e2832df2]{background:var(--face);border-bottom:0;margin-bottom:8px}main>*>.post.round[data-v-e2832df2]{border-radius:6px}@media (min-width:500px){main>*>.post[data-v-e2832df2]{margin-bottom:16px}}",""]),e.exports=s},31210:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var a=i(31508),s=i(46813),l=i(87186),n=i(32971);const o=a.ZP.extend({i18n:(0,s.Z)("mobile/views/pages/featured.vue"),data:()=>({includeGlobal:!1,mediaOnly:!1,filter:"all",minScore:5,fetching:!0,notes:[],faNewspaper:n.Xgz}),watch:{includeGlobal(){this.fetch()},mediaOnly(){this.fetch()},filter(){this.fetch()},minScore(){this.fetch()}},created(){this.fetch()},mounted(){document.title=this.$root.instanceName},methods:{fetch(){l.Z.start(),this.fetching=!0,this.$root.api("notes/featured",{limit:30,minScore:Number(this.minScore),includeGlobal:this.includeGlobal,fileType:this.mediaOnly?["image/jpeg","image/png","image/apng","image/gif","image/webp","image/avif","video/mp4","video/webm"]:void 0,excludeNsfw:"excludeNsfw"===this.filter,excludeSfw:"excludeSfw"===this.filter},!1,!this.$store.getters.isSignedIn).then((e=>{e.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())),this.notes=e,this.fetching=!1,l.Z.done()}))}}});i(69386);const r=(0,i(26385).Z)(o,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("mk-ui",{scopedSlots:e._u([{key:"header",fn:function(){return[t("span",{staticStyle:{"margin-right":"4px"}},[t("fa",{attrs:{icon:e.faNewspaper}})],1),e._v(e._s(e.$t("@.featured-notes")))]},proxy:!0}])},[t("main",[t("details",[t("summary",[e._v(e._s(e.$t("options")))]),t("ui-select",{attrs:{disabled:e.fetching},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s(e.$t("minScore")))]},proxy:!0}]),model:{value:e.minScore,callback:function(t){e.minScore=t},expression:"minScore"}},[t("option",{attrs:{value:"1"}},[e._v("1")]),t("option",{attrs:{value:"5"}},[e._v("5")]),t("option",{attrs:{value:"10"}},[e._v("10")]),t("option",{attrs:{value:"20"}},[e._v("20")]),t("option",{attrs:{value:"50"}},[e._v("50")])]),t("ui-select",{attrs:{disabled:e.fetching},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s(e.$t("filter")))]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[t("option",{attrs:{value:"all"}},[e._v(e._s(e.$t("all")))]),t("option",{attrs:{value:"excludeNsfw"}},[e._v(e._s(e.$t("excludeNsfw")))]),t("option",{attrs:{value:"excludeSfw"}},[e._v(e._s(e.$t("excludeSfw")))])]),t("div",[t("ui-switch",{attrs:{disabled:e.fetching},model:{value:e.includeGlobal,callback:function(t){e.includeGlobal=t},expression:"includeGlobal"}},[e._v(e._s(e.$t("include-global")))]),t("ui-switch",{attrs:{disabled:e.fetching},model:{value:e.mediaOnly,callback:function(t){e.mediaOnly=t},expression:"mediaOnly"}},[e._v(e._s(e.$t("media-only")))])],1)],1),t("div",[e._l(e.notes,(function(i){return[t("mk-note",{key:i.id,staticClass:"post",class:{round:e.$store.state.device.roundedCorners},attrs:{note:i}})]}))],2)])])}),[],!1,null,"e2832df2",null).exports},69386:(e,t,i)=>{var a=i(87762);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(80950).Z)("38557298",a,!0,{})}}]);