(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[2231],{4989:(e,t,s)=>{var a=s(11063),r=s(26143)(a);r.push([e.id,".omechnps[data-v-48fc19c4]{margin:0 auto;width:100%}.omechnps>.is-remote[data-v-48fc19c4],.omechnps>.is-suspended[data-v-48fc19c4],.omechnps>.no-federation[data-v-48fc19c4]{border-radius:6px;box-shadow:0 3px 8px rgba(0,0,0,.2);font-size:14px;margin-bottom:16px;padding:14px 16px}.omechnps>.is-remote.is-suspended[data-v-48fc19c4],.omechnps>.is-suspended.is-suspended[data-v-48fc19c4],.omechnps>.no-federation.is-suspended[data-v-48fc19c4]{background:var(--suspendedInfoBg);color:var(--suspendedInfoFg)}.omechnps>.is-remote.is-remote[data-v-48fc19c4],.omechnps>.is-remote.no-federation[data-v-48fc19c4],.omechnps>.is-suspended.is-remote[data-v-48fc19c4],.omechnps>.is-suspended.no-federation[data-v-48fc19c4],.omechnps>.no-federation.is-remote[data-v-48fc19c4],.omechnps>.no-federation.no-federation[data-v-48fc19c4]{background:var(--remoteInfoBg);color:var(--remoteInfoFg)}.omechnps>.is-remote>a[data-v-48fc19c4],.omechnps>.is-suspended>a[data-v-48fc19c4],.omechnps>.no-federation>a[data-v-48fc19c4]{font-weight:700}.omechnps>.main>.header[data-v-48fc19c4]{margin-bottom:16px}",""]),e.exports=r},41243:(e,t,s)=>{var a=s(11063),r=s(26143)(a);r.push([e.id,".header[data-v-69ad92fe]{background:var(--face);border-radius:6px;box-shadow:0 3px 8px rgba(0,0,0,.2);overflow:hidden}.header>.banner-container[data-v-69ad92fe]{background-position:50%;background-size:cover;height:250px;overflow:hidden}.header>.banner-container>.banner[data-v-69ad92fe]{background-color:#383838;background-position:50%;background-size:cover;box-shadow:inset 0 0 128px rgba(0,0,0,.5);height:100%}.header>.banner-container>.fade[data-v-69ad92fe]{background:linear-gradient(transparent,rgba(0,0,0,.7));bottom:0;height:78px;left:0;position:absolute;width:100%}.header>.banner-container>.followed[data-v-69ad92fe]{background:rgba(0,0,0,.7);color:#fff;font-size:12px;left:12px;padding:4px 6px;position:absolute;top:12px}.header>.banner-container>.actions[data-v-69ad92fe]{position:absolute;right:12px;top:12px}.header>.banner-container>.actions .listMenu[data-v-69ad92fe],.header>.banner-container>.actions>.menu[data-v-69ad92fe]{color:#fff;font-size:16px;height:100%;padding:0 14px;text-shadow:0 0 8px #000}.header>.banner-container>.title[data-v-69ad92fe]{bottom:0;color:#fff;left:0;padding:0 0 8px 154px;position:absolute;width:100%}.header>.banner-container>.title>.name[data-v-69ad92fe]{display:block;font-size:1.8em;font-weight:700;line-height:32px;margin:0;text-shadow:0 0 8px #000}.header>.banner-container>.title>div>*[data-v-69ad92fe]{display:inline-block;line-height:20px;margin-right:.5em;opacity:.8}.header>.banner-container>.title>div>.username[data-v-69ad92fe]{font-weight:700}.header>.avatar[data-v-69ad92fe]{box-shadow:1px 1px 3px rgba(0,0,0,.2);display:block;height:120px;left:16px;position:absolute;top:170px;width:120px;z-index:2}>.header>.avatar.cat[data-v-69ad92fe]:after,>.header>.avatar.cat[data-v-69ad92fe]:before{border-width:8px}.header>.body[data-v-69ad92fe]{color:var(--text);padding:16px 16px 16px 154px}.header>.body>.description[data-v-69ad92fe]{font-size:15px}.header>.body>.description>.empty[data-v-69ad92fe]{margin:0;opacity:.5}.header>.body>.fields[data-v-69ad92fe]{margin-top:16px}.header>.body>.fields>.field[data-v-69ad92fe]{align-items:center;display:flex;margin:0;padding:0}.header>.body>.fields>.field>.name[data-v-69ad92fe]{border-right:1px solid var(--faceDivider);font-weight:700;text-align:center;width:30%}.header>.body>.fields>.field>.name[data-v-69ad92fe],.header>.body>.fields>.field>.value[data-v-69ad92fe]{margin:4px;overflow:hidden;padding:4px;text-overflow:ellipsis;white-space:nowrap}.header>.body>.fields>.field>.value[data-v-69ad92fe]{width:70%}.header>.body>.info[data-v-69ad92fe]{font-size:15px;margin-top:16px}.header>.body>.info[data-v-69ad92fe]:empty{display:none}.header>.body>.info>*[data-v-69ad92fe]{margin-right:16px}.header>.body>.status[data-v-69ad92fe]{font-size:80%;margin-top:16px}.header>.body>.status>*[data-v-69ad92fe]{color:inherit;display:inline-block;margin-right:16px;padding-right:16px}.header>.body>.status>.clickable[data-v-69ad92fe]{cursor:pointer}.header>.body>.status>.clickable[data-v-69ad92fe]:hover{color:var(--faceTextButtonHover)}.header>.body>.status>*>b[data-v-69ad92fe]{color:var(--primary);font-size:1rem;font-weight:700;margin-right:4px}.header>.body>.usertags[data-v-69ad92fe]{margin-left:-.5em}.header>.body>.usertags>.usertag[data-v-69ad92fe]{color:var(--text);margin-left:.5em}",""]),e.exports=r},82231:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(31508),r=s(46813),o=s(68103),i=s(87186),n=s(24082),d=s(43517),l=s(2949),c=s(14467),u=s(26291),f=s(44516),p=s(32971);const h=a.ZP.extend({i18n:(0,r.Z)("desktop/views/pages/user/user.header.vue"),components:{XIntegrations:c.Z,XUserBadges:u.Z},props:["user"],data:()=>({faUserTag:p.Ps7}),computed:{isPostsPage(){return this.$route.path.match(/@[^/]+$/)},style(){return null==this.user.bannerUrl?{}:{backgroundColor:this.user.bannerColor&&3==this.user.bannerColor.length?`rgb(${this.user.bannerColor.join(",")})`:null,backgroundImage:`url(${this.user.bannerUrl})`}},age(){return(0,n.o)(this.user.profile.birthday)}},mounted(){this.user.bannerUrl},beforeDestroy(){this.user.bannerUrl},methods:{onAvatarClick(){if(!this.user.avatarUrl)return;const e=this.$root.new(f.Z,{image:{url:this.user.avatarUrl}});this.$once("hook:beforeDestroy",(()=>{e.close()}))},mention(){this.$post({mention:this.user})},onScroll(){const e=this.$refs.banner,t=window.scrollY,s=-t/1.25;e.style.backgroundPosition=`center calc(50% - ${s}px)`;const a=t/32;a<=10&&(e.style.filter=`blur(${a}px)`)},scrollToTL(){const e=document.getElementById("user_timeline_52");e&&e.scrollIntoView()},menu(){const e=this.$root.new(d.Z,{source:this.$refs.menu,user:this.user});this.$once("hook:beforeDestroy",(()=>{e.destroyDom()}))},listMenu(){const e=this.$root.new(l.Z,{source:this.$refs.listMenu,user:this.user});this.$once("hook:beforeDestroy",(()=>{e.destroyDom()}))},async removeUsertag(e){const{canceled:t}=await this.$root.dialog({type:"warning",title:this.$t("@.removeUsertagConfirm"),showCancelButton:!0});t||this.$root.api("usertags/remove",{targetId:this.user.id,tag:e}).then((()=>{this.$root.dialog({type:"success",splash:!0})}),(e=>{this.$root.dialog({type:"error",text:e})}))}}});s(71719);var v=s(26385);const m=(0,v.Z)(h,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"header"},[t("div",{staticClass:"banner-container",style:e.style},[t("div",{ref:"banner",staticClass:"banner",style:e.style}),t("div",{staticClass:"fade"}),t("div",{staticClass:"title"},[t("p",{staticClass:"name"},[t("mk-user-name",{attrs:{user:e.user,nowrap:!1}})],1),t("div",[t("span",{staticClass:"username"},[t("mk-acct",{attrs:{user:e.user,detail:!0}})],1),null!=e.user.movedToUser?t("span",[e._v("moved to "),t("router-link",{attrs:{to:e._f("userPage")(e.user.movedToUser)}},[t("mk-acct",{attrs:{user:e.user.movedToUser,detail:!0}})],1)],1):e._e(),t("x-user-badges",{key:e.user.id,attrs:{user:e.user,"with-roles":!0}})],1)]),e.$store.getters.isSignedIn&&e.$store.state.i.id!=e.user.id&&e.user.isFollowed?t("span",{staticClass:"followed"},[e._v(e._s(e.$t("follows-you")))]):e._e(),e.$store.getters.isSignedIn?t("div",{staticClass:"actions"},[t("button",{ref:"menu",staticClass:"menu",on:{click:e.menu}},[t("fa",{attrs:{icon:"ellipsis-h"}})],1),t("button",{ref:"listMenu",staticClass:"listMenu",on:{click:e.listMenu}},[t("fa",{attrs:{icon:["fas","list"]}})],1),e.$store.state.i.id!=e.user.id?t("mk-follow-button",{staticClass:"follow",attrs:{user:e.user,inline:!0,transparent:!1}}):e._e()],1):t("div",{staticClass:"actions"},[t("mk-follow-button",{staticClass:"follow",attrs:{user:e.user,inline:!0,transparent:!1}})],1)]),t("mk-avatar",{staticClass:"avatar",staticStyle:{cursor:"pointer"},attrs:{user:e.user,"disable-preview":!0,"disable-link":!0},on:{click:function(t){return e.onAvatarClick()}}}),t("div",{staticClass:"body"},[t("div",{staticClass:"description"},[e.user.description?t("mfm",{attrs:{text:e.user.description,"is-note":!1,author:e.user,i:e.$store.state.i,"custom-emojis":e.user.emojis}}):t("p",{staticClass:"empty"},[e._v(e._s(e.$t("no-description")))]),t("x-integrations",{staticStyle:{"margin-top":"16px"},attrs:{user:e.user}})],1),e.user.fields?t("div",{key:e.user.id,staticClass:"fields"},e._l(e.user.fields,(function(s,a){return t("dl",{key:a,staticClass:"field"},[t("dt",{staticClass:"name"},[t("mfm",{attrs:{text:s.name,plain:!0,"custom-emojis":e.user.emojis}})],1),t("dd",{staticClass:"value"},[t("mfm",{attrs:{text:s.value,author:e.user,i:e.$store.state.i,"custom-emojis":e.user.emojis}})],1)])})),0):e._e(),t("div",{staticClass:"info"},[e.user.profile&&e.user.profile.location?t("span",{staticClass:"location"},[t("fa",{attrs:{icon:"map-marker"}}),e._v(" "+e._s(e.user.profile.location))],1):e._e(),e.user.profile&&e.user.profile.birthday?t("span",{staticClass:"birthday"},[t("fa",{attrs:{icon:"birthday-cake"}}),e._v(" "+e._s(e.user.profile.birthday.replace("-",e.$t("year")).replace("-",e.$t("month"))+e.$t("day"))+" ("+e._s(e.$t("years-old",{age:e.age}))+")")],1):e._e()]),t("div",{staticClass:"status"},[e.isPostsPage?t("a",{staticClass:"notes-count",on:{click:function(t){return e.scrollToTL()}}},[t("b",[e._v(e._s(e._f("number")(e.user.notesCount)))]),e._v(e._s(e.$t("posts")))]):t("router-link",{staticClass:"notes-count",attrs:{to:e._f("userPage")(e.user)}},[t("b",[e._v(e._s(e._f("number")(e.user.notesCount)))]),e._v(e._s(e.$t("posts")))]),t("router-link",{staticClass:"following clickable",attrs:{to:e._f("userPage")(e.user,"following")}},[t("b",[e._v(e._s(e._f("number")(e.user.followingCount)))]),e._v(e._s(e.$t("following")))]),t("router-link",{staticClass:"followers clickable",attrs:{to:e._f("userPage")(e.user,"followers")}},[t("b",[e._v(e._s(e._f("number")(e.user.followersCount)))]),e._v(e._s(e.$t("followers")))])],1),t("div",{staticClass:"usertags"},e._l(e.user.usertags,(function(s){return t("a",{key:s,staticClass:"usertag",on:{click:function(t){return e.removeUsertag(s)}}},[t("fa",{attrs:{icon:e.faUserTag}}),e._v(e._s(s))],1)})),0)])],1)}),[],!1,null,"69ad92fe",null).exports,g=a.ZP.extend({i18n:(0,r.Z)(),components:{XHeader:m},data:()=>({fetching:!0,user:null}),watch:{$route:"fetch"},created(){this.fetch()},methods:{fetch(){if(!this.$route.params.user)return;this.fetching=!0,i.Z.start();const{username:e,host:t}=(0,o.Z)(this.$route.params.user);this.$root.api("users/show",{username:e,host:null!=t?t:void 0},!1,!this.$store.getters.isSignedIn).then((e=>{!this.$store.state.i&&e.host||(this.user=e),this.fetching=!1,i.Z.done()})).catch((()=>{this.fetching=!1,i.Z.done()}))},warp(e){this.$refs.tl.warp(e)}}}),b=g;s(16009);const x=(0,v.Z)(b,(function(){var e=this,t=e._self._c;e._self._setupProxy;return!e.fetching&&e.user?t("div",{staticClass:"omechnps"},[e.user.isSuspended?t("div",{staticClass:"is-suspended"},[t("fa",{attrs:{icon:"exclamation-triangle"}}),e._v(" "+e._s(e.$t("@.user-suspended"))+"\n\t")],1):e._e(),null!=e.user.host?t("div",{staticClass:"is-remote"},[t("fa",{attrs:{icon:"exclamation-triangle"}}),e._v(" "+e._s(e.$t("@.is-remote-user"))),t("a",{attrs:{href:e.user.url||e.user.uri,rel:"nofollow noopener",target:"_blank"}},[e._v(e._s(e.$t("@.view-on-remote")))])],1):e._e(),e.user.noFederation?t("div",{staticClass:"no-federation"},[t("fa",{attrs:{icon:"exclamation-triangle"}}),e._v(" "+e._s(e.$t("@.user-no-federation"))+"\n\t")],1):e._e(),t("div",{staticClass:"main"},[t("x-header",{staticClass:"header",attrs:{user:e.user}}),t("router-view",{attrs:{user:e.user}})],1)]):e._e()}),[],!1,null,"48fc19c4",null).exports},16009:(e,t,s)=>{var a=s(4989);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(80950).Z)("17abbc5a",a,!0,{})},71719:(e,t,s)=>{var a=s(41243);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(80950).Z)("16776277",a,!0,{})}}]);