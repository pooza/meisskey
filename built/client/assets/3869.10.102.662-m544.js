(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[3869],{34947:(t,e,s)=>{var i=s(11063),r=s(26143)(i);r.push([t.id,".zxrjzpcj[data-v-b7951922]{border-radius:32px;display:inline-block;margin-bottom:4px;margin-top:4px;padding:6px 8px 6px 6px;white-space:nowrap}.zxrjzpcj[data-v-b7951922]:hover{text-decoration:none}.zxrjzpcj.twitter[data-v-b7951922]{background:#1da1f3;color:#fff}.zxrjzpcj.twitter[data-v-b7951922]:hover{background:#0c87cf}.zxrjzpcj.github[data-v-b7951922]{background:#171515;color:#fff}.zxrjzpcj.github[data-v-b7951922]:hover{background:#000}.zxrjzpcj.discord[data-v-b7951922]{background:#7289da;color:#fff}.zxrjzpcj.discord[data-v-b7951922]:hover{background:#4968ce}",""]),t.exports=r},92749:(t,e,s)=>{var i=s(11063),r=s(26143)(i);r.push([t.id,".nbogcrmo>*[data-v-48ae2e44]{margin-right:10px}",""]),t.exports=r},24082:(t,e,s)=>{"use strict";function i(t){const e=new Date(t);let s=e.getFullYear(),i=e.getMonth(),r=e.getDate();if(console.log(`${e} ${t}`),"Invalid Date"===e.toString()&&"string"==typeof t){const e=t.match(/^([+-]?\d{4,})-(\d{2})-(\d{2})$/);console.log(JSON.stringify(e)),e&&(s=Number(e[1]),i=Number(e[2])-1,r=Number(e[3]))}const o=new Date,n=o.getFullYear()-s,a=o.getMonth()-i,u=o.getDate()<r;return a<0||0===a&&u?n-1:n}s.d(e,{o:()=>i})},14467:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var i=s(31508);const r=i.ZP.extend({props:["url","text","icon","service"]});s(72570);var o=s(26385);const n=(0,o.Z)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("a",{staticClass:"zxrjzpcj",class:t.service,attrs:{href:t.url,rel:"nofollow noopener",target:"_blank"}},[e("fa",{attrs:{icon:t.icon,size:"lg","fixed-width":""}}),e("span",[t._v(t._s(t.text))])],1)}),[],!1,null,"b7951922",null).exports,a=i.ZP.extend({components:{XIntegration:n},props:["user"],computed:{discordName(){return"0"===this.user.discord.discriminator?`${this.user.discord.username}`:`${this.user.discord.username}#${this.user.discord.discriminator}`}}});s(45487);const u=(0,o.Z)(a,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"nbogcrmo",attrs:{"v-if":t.user.twitter||t.user.github||t.user.discord}},[t.user.twitter?e("x-integration",{attrs:{service:"twitter",url:`https://twitter.com/${t.user.twitter.screenName}`,text:t.user.twitter.screenName,icon:["fab","twitter"]}}):t._e(),t.user.github?e("x-integration",{attrs:{service:"github",url:`https://github.com/${t.user.github.login}`,text:t.user.github.login,icon:["fab","github"]}}):t._e(),t.user.discord?e("x-integration",{attrs:{service:"discord",url:`https://discord.com/users/${t.user.discord.id}`,text:t.discordName,icon:["fab","discord"]}}):t._e()],1)}),[],!1,null,"48ae2e44",null).exports},2949:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});var i=s(31508),r=s(46813),o=s(32971);const n=i.ZP.extend({i18n:(0,r.Z)("common/views/components/list-menu.vue"),props:["user","source"],data:()=>({lists:[],_listId:null,faPlus:o.r8p,faMinus:o.Kl4}),created(){this.$root.api("users/lists/list",{userId:this.user.id}).then((t=>{this.lists=t}))},computed:{items(){return[{icon:o.r8p,text:this.$t("push-to-list"),action:this.pushList},...this.lists.map((t=>({icon:o.Kl4,text:this.$t("pull-from-list").replace("{}",t.title),action:this.pullList,actionArg:t.id})))]}},methods:{closed(){this.$nextTick((()=>{this.destroyDom()}))},async pushList(){const t=this.$t("select-list"),e=await this.$root.api("users/lists/list"),{canceled:s,result:i}=await this.$root.dialog({type:null,title:t,select:{items:e.map((t=>({value:t.id,text:t.title})))},showCancelButton:!0});s||(await this.$root.api("users/lists/push",{listId:i,userId:this.user.id}),this.$root.dialog({type:"success",splash:!0}))},async pullList(t){await this.getConfirmed(this.$t("pull-list-confirm"))&&this.$root.api("users/lists/pull",{listId:t,userId:this.user.id}).then((()=>{this.$root.dialog({type:"success",splash:!0})}))},async getConfirmed(t){return!(await this.$root.dialog({type:"warning",showCancelButton:!0,title:"confirm",text:t})).canceled}}});const a=(0,s(26385).Z)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticStyle:{position:"initial"}},[e("mk-menu",{attrs:{source:t.source,items:t.items},on:{closed:t.closed}})],1)}),[],!1,null,null,null).exports},43517:(t,s,i)=>{"use strict";i.d(s,{Z:()=>d});var r=i(31508),o=i(46813),n=i(32971),a=i(3123),u=i(95200);const c=r.ZP.extend({i18n:(0,o.Z)("common/views/components/user-menu.vue"),props:["user","source"],data(){let t=[{icon:["fas","at"],text:this.$t("mention"),action:()=>{this.$post({mention:this.user})}}];return this.$store.getters.isSignedIn&&this.$store.state.i.id!=this.user.id&&null==this.user.host&&(t=t.concat([{icon:"comments",text:this.$t("@.startTalk"),action:this.startTalk},null])),this.$store.getters.isSignedIn&&this.$store.state.i.id!=this.user.id&&(t=t.concat([{icon:n.Ps7,text:this.$t("@.addUsertag"),action:this.addUsertag},{icon:this.user.isHideRenoting?["fas","eye"]:["far","eye-slash"],text:this.user.isHideRenoting?this.$t("unhide-renote"):this.$t("hide-renote"),action:this.toggleHideRenote},{icon:this.user.isMuted?["fas","eye"]:["far","eye-slash"],text:this.user.isMuted?this.$t("unmute"):this.$t("mute"),action:this.toggleMute},{icon:"ban",text:this.user.isBlocking?this.$t("unblock"):this.$t("block"),action:this.toggleBlock}]),this.user.isAdmin||(t=t.concat([null,{icon:n.RLE,text:this.$t("report-abuse"),action:this.reportAbuse}]))),this.$store.getters.isSignedIn&&(this.$store.state.i.isAdmin||this.$store.state.i.isModerator)&&(t=t.concat([null,{icon:n.EkX,text:this.user.isSilenced?this.$t("unsilence"):this.$t("silence"),action:this.toggleSilence}]),(!this.user.isAdmin&&!this.user.isModerator||(this.user.isAdmin||this.user.isModerator)&&this.user.isSuspended)&&(t=t.concat({icon:a.jO,text:this.user.isSuspended?this.$t("unsuspend"):this.$t("suspend"),action:this.toggleSuspend}))),{items:t}},methods:{closed(){this.$nextTick((()=>{this.destroyDom()}))},startTalk(){this.$root.isMobile?this.$router.push(`/i/messaging/${(0,u.Z)(this.user)}`):i.e(3254).then(i.bind(i,33254)).then((t=>this.$root.new(t.default,{user:this.user})))},async addUsertag(){const{canceled:t,result:e}=await this.$root.dialog({title:this.$t("@.addUsertag"),text:this.$t("@.addUsertagDetail"),input:!0});t||this.$root.api("usertags/add",{targetId:this.user.id,tag:e}).then((()=>{this.$root.dialog({type:"success",splash:!0})}),(t=>{this.$root.dialog({type:"error",text:t})}))},async toggleHideRenote(){if(this.user.isHideRenoting){if(!await this.getConfirmed(this.$t("unhide-renote-confirm")))return;this.$root.api("user-filter/update",{targetId:this.user.id,hideRenote:!1}).then((()=>{this.user.isHideRenoting=!1}),(t=>{this.$root.dialog({type:"error",text:t})}))}else{if(!await this.getConfirmed(this.$t("hide-renote-confirm")))return;this.$root.api("user-filter/update",{targetId:this.user.id,hideRenote:!0}).then((()=>{this.user.isHideRenoting=!0}),(t=>{this.$root.dialog({type:"error",text:t})}))}},async toggleMute(){if(this.user.isMuted){if(!await this.getConfirmed(this.$t("unmute-confirm")))return;this.$root.api("mute/delete",{userId:this.user.id}).then((()=>{this.user.isMuted=!1,this.$root.dialog({type:"success",splash:!0})}),(()=>{this.$root.dialog({type:"error",text:e})}))}else{const t=await this.$root.dialog({type:"warning",showCancelButton:!0,title:this.$t("confirm"),text:this.$t("mute-confirm"),select:{items:[0,300,1800,3600,10800,21600,86400,259200,604800].map((t=>({value:t,text:this.$t(`timeSpans.${t}`)}))),default:0}});if(t.canceled)return;const s=t.result>0?Date.now()+1e3*t.result:void 0;this.$root.api("mute/create",{userId:this.user.id,expiresAt:s}).then((()=>{this.user.isMuted=!0,this.$root.dialog({type:"success",splash:!0})}),(()=>{this.$root.dialog({type:"error",text:e})}))}},async toggleBlock(){if(this.user.isBlocking){if(!await this.getConfirmed(this.$t("unblock-confirm")))return;this.$root.api("blocking/delete",{userId:this.user.id}).then((()=>{this.user.isBlocking=!1,this.$root.dialog({type:"success",splash:!0})}),(()=>{this.$root.dialog({type:"error",text:e})}))}else{if(!await this.getConfirmed(this.$t("block-confirm")))return;this.$root.api("blocking/create",{userId:this.user.id}).then((()=>{this.user.isBlocking=!0,this.$root.dialog({type:"success",splash:!0})}),(()=>{this.$root.dialog({type:"error",text:e})}))}},async reportAbuse(){const t=this.$t("report-abuse-reported"),{canceled:e,result:s}=await this.$root.dialog({title:this.$t("report-abuse-detail"),input:!0});e||this.$root.api("users/report-abuse",{userId:this.user.id,comment:s}).then((()=>{this.$root.dialog({type:"success",text:t})}),(t=>{this.$root.dialog({type:"error",text:t})}))},async toggleSilence(){await this.getConfirmed(this.$t(this.user.isSilenced?"unsilence-confirm":"silence-confirm"))&&this.$root.api(this.user.isSilenced?"admin/unsilence-user":"admin/silence-user",{userId:this.user.id}).then((()=>{this.user.isSilenced=!this.user.isSilenced,this.$root.dialog({type:"success",splash:!0})}),(t=>{this.$root.dialog({type:"error",text:t})}))},async toggleSuspend(){await this.getConfirmed(this.$t(this.user.isSuspended?"unsuspend-confirm":"suspend-confirm"))&&this.$root.api(this.user.isSuspended?"admin/unsuspend-user":"admin/suspend-user",{userId:this.user.id}).then((()=>{this.user.isSuspended=!this.user.isSuspended,this.$root.dialog({type:"success",splash:!0})}),(t=>{this.$root.dialog({type:"error",text:t})}))},async getConfirmed(t){return!(await this.$root.dialog({type:"warning",showCancelButton:!0,title:this.$t("confirm"),text:t})).canceled}}});const d=(0,i(26385).Z)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticStyle:{position:"initial"}},[e("mk-menu",{attrs:{source:t.source,items:t.items},on:{closed:t.closed}})],1)}),[],!1,null,null,null).exports},72570:(t,e,s)=>{var i=s(34947);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,s(80950).Z)("537462fc",i,!0,{})},45487:(t,e,s)=>{var i=s(92749);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,s(80950).Z)("4c08d0ee",i,!0,{})}}]);