(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[6262],{64587:(t,e,n)=>{var s=n(11063),i=n(26143)(s);i.push([t.id,".anltbovirfeutcigvwgmgxipejaeozxi-body[data-v-8aefb31a]{padding:10px}.anltbovirfeutcigvwgmgxipejaeozxi-body>h1[data-v-8aefb31a]{color:var(--text);font-size:1em;font-weight:700;margin:2px 0 8px}.anltbovirfeutcigvwgmgxipejaeozxi-body>p[data-v-8aefb31a]{color:var(--text);display:block;font-size:.8em;margin:0;z-index:1}.anltbovirfeutcigvwgmgxipejaeozxi-body>p.fetching[data-v-8aefb31a]{text-align:center}",""]),t.exports=i},7711:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var s=n(31508);function i(t){return s.ZP.extend({props:{widget:{type:Object},column:{type:Object,default:null},platform:{type:String,required:!0},isCustomizeMode:{type:Boolean,default:!1}},computed:{id(){return this.widget.id},props(){return this.widget.data}},data:()=>({bakedOldProps:null}),created(){this.mergeProps(),this.$watch("props",(()=>{this.mergeProps()})),this.bakeProps()},methods:{bakeProps(){this.bakedOldProps=JSON.stringify(this.props)},mergeProps(){if(t.props){const e=t.props();for(const t of Object.keys(e))this.props.hasOwnProperty(t)||s.ZP.set(this.props,t,e[t])}},save(){this.bakedOldProps!=JSON.stringify(this.props)&&(this.bakeProps(),"deck"==this.platform?this.$store.commit("device/updateDeckColumn",this.column):this.$root.api("i/update_widget",{id:this.id,data:this.props}))}}})}},26262:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var s=n(7711),i=n(46813),a=n(32971);const o=(0,s.Z)({name:"broadcast"}).extend({i18n:(0,i.Z)("common/views/widgets/broadcast.vue"),data:()=>({i:0,fetching:!0,announcements:[],faBroadcastTower:a.T07,faUndo:a.X7o,faArrowRight:a.eFW}),mounted(){this.$root.getMeta().then((t=>{this.announcements=t.announcements,this.fetching=!1}))},methods:{next(){this.i==this.announcements.length-1?this.i=0:this.i++}}});n(53470);const r=(0,n(26385).Z)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"anltbovirfeutcigvwgmgxipejaeozxi"},[e("ui-container",{attrs:{"show-header":!t.props.compact},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:t.faBroadcastTower}}),t._v(t._s(t.$t("title")))]},proxy:!0},{key:"func",fn:function(){return[t.announcements.length>1?e("button",{on:{click:t.next}},[t.i==t.announcements.length-1?e("fa",{attrs:{icon:t.faUndo}}):e("fa",{attrs:{icon:t.faArrowRight}})],1):t._e()]},proxy:!0}])},[e("div",{staticClass:"anltbovirfeutcigvwgmgxipejaeozxi-body"},[t.fetching?e("p",{staticClass:"fetching"},[t._v(t._s(t.$t("fetching"))),e("mk-ellipsis")],1):t._e(),t.fetching?t._e():e("h1",[t._v(t._s(0==t.announcements.length?t.$t("no-broadcasts"):t.announcements[t.i].title))]),t.fetching?t._e():e("p",[0!=t.announcements.length?e("span",{domProps:{innerHTML:t._s(t.announcements[t.i].text)}}):t._e(),0==t.announcements.length?[t._v(t._s(t.$t("have-a-nice-day")))]:t._e()],2)])])],1)}),[],!1,null,"8aefb31a",null).exports},53470:(t,e,n)=>{var s=n(64587);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);(0,n(80950).Z)("6b3a988d",s,!0,{})}}]);