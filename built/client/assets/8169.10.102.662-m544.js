(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[8169],{59445:(t,e,s)=>{var o=s(11063),i=s(26143)(o);i.push([t.id,".mkw-trends .mkw-trends--body>.note[data-v-12a23432]{color:#555;font-size:12px;font-style:oblique;padding:16px}.mkw-trends .mkw-trends--body>.note>p[data-v-12a23432]{margin:0}.mkw-trends .mkw-trends--body>.note>.author>a[data-v-12a23432],.mkw-trends .mkw-trends--body>.note>.text>a[data-v-12a23432]{color:inherit}.mkw-trends .mkw-trends--body>.empty[data-v-12a23432],.mkw-trends .mkw-trends--body>.fetching[data-v-12a23432]{color:var(--text);margin:0;padding:16px;text-align:center}.mkw-trends .mkw-trends--body>.fetching>[data-icon][data-v-12a23432]{margin-right:4px}",""]),t.exports=i},7711:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});var o=s(31508);function i(t){return o.ZP.extend({props:{widget:{type:Object},column:{type:Object,default:null},platform:{type:String,required:!0},isCustomizeMode:{type:Boolean,default:!1}},computed:{id(){return this.widget.id},props(){return this.widget.data}},data:()=>({bakedOldProps:null}),created(){this.mergeProps(),this.$watch("props",(()=>{this.mergeProps()})),this.bakeProps()},methods:{bakeProps(){this.bakedOldProps=JSON.stringify(this.props)},mergeProps(){if(t.props){const e=t.props();for(const t of Object.keys(e))this.props.hasOwnProperty(t)||o.ZP.set(this.props,t,e[t])}},save(){this.bakedOldProps!=JSON.stringify(this.props)&&(this.bakeProps(),"deck"==this.platform?this.$store.commit("device/updateDeckColumn",this.column):this.$root.api("i/update_widget",{id:this.id,data:this.props}))}}})}},28169:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>n});var o=s(7711),i=s(46813);const r=(0,o.Z)({name:"trends",props:()=>({compact:!1})}).extend({i18n:(0,i.Z)("desktop/views/widgets/trends.vue"),data:()=>({note:null,fetching:!0,offset:0}),mounted(){this.fetch()},methods:{func(){this.props.compact=!this.props.compact,this.save()},fetch(){this.fetching=!0,this.note=null,this.$root.api("notes/trend",{limit:1,offset:this.offset,renote:!1,reply:!1,file:!1,poll:!1}).then((t=>{const e=t?t[0]:null;null==e?this.offset=0:this.offset++,this.note=e,this.fetching=!1}))}}});s(84739);const n=(0,s(26385).Z)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mkw-trends"},[e("ui-container",{attrs:{"show-header":!t.props.compact},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:"fire"}}),t._v(t._s(t.$t("title")))]},proxy:!0},{key:"func",fn:function(){return[e("button",{attrs:{title:t.$t("title")},on:{click:t.fetch}},[e("fa",{attrs:{icon:"sync"}})],1)]},proxy:!0}])},[e("div",{staticClass:"mkw-trends--body"},[t.fetching?e("p",{staticClass:"fetching"},[e("fa",{attrs:{icon:"spinner",pulse:"","fixed-width":""}}),t._v(t._s(t.$t("@.loading"))),e("mk-ellipsis")],1):null!=t.note?e("div",{staticClass:"note"},[e("p",{staticClass:"text"},[e("router-link",{attrs:{to:t._f("notePage")(t.note)}},[t._v(t._s(t.note.text))])],1),e("p",{staticClass:"author"},[t._v("â€•"),e("router-link",{attrs:{to:t._f("userPage")(t.note.user)}},[t._v("@"+t._s(t._f("acct")(t.note.user)))])],1)]):e("p",{staticClass:"empty"},[t._v(t._s(t.$t("nothing")))])])])],1)}),[],!1,null,"12a23432",null).exports},84739:(t,e,s)=>{var o=s(59445);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,s(80950).Z)("c56e6ab6",o,!0,{})}}]);