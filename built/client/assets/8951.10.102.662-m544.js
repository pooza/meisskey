(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[8951],{49427:(t,e,i)=>{var a=i(11063),s=i(26143)(a);s.push([t.id,"main[data-v-020e9f7c]{margin:0 auto;max-width:500px;padding:8px;width:100%}@media (min-width:500px){main[data-v-020e9f7c]{padding:16px 8px}}@media (min-width:600px){main[data-v-020e9f7c]{padding:32px 8px}}main>header[data-v-020e9f7c]{background:#fff;padding:8px}main .widget[data-v-020e9f7c]{margin-bottom:8px}@media (min-width:600px){main .widget[data-v-020e9f7c]{margin-bottom:16px}}main .customize-container[data-v-020e9f7c]{background:#fff;margin:8px}main .customize-container>header[data-v-020e9f7c]{background:#eee;line-height:32px}main .customize-container>header>.handle[data-v-020e9f7c]{padding:0 8px}main .customize-container>header>.remove[data-v-020e9f7c]{line-height:32px;padding:0 8px;position:absolute;right:0;top:0}main .customize-container>div[data-v-020e9f7c]{padding:8px}main .customize-container>div>*[data-v-020e9f7c]{pointer-events:none}",""]),t.exports=s},88951:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>c});var a=i(31508),s=i(46813),n=i(77513),o=i.n(n),d=i(37705);const r=a.ZP.extend({i18n:(0,s.Z)("mobile/views/pages/widgets.vue"),components:{XDraggable:o()},data:()=>({showNav:!1,customizing:!1,widgetAdderSelected:null}),computed:{widgets(){return this.$store.state.settings.mobileHome}},created(){0==this.widgets.length&&(this.widgets=[{name:"calendar",id:"a",data:{}},{name:"activity",id:"b",data:{}},{name:"rss",id:"c",data:{}},{name:"nav",id:"f",data:{}},{name:"version",id:"g",data:{}}],this.saveHome())},mounted(){document.title=this.$root.instanceName},methods:{hint(){alert(this.$t("widgets-hints"))},widgetFunc(t){const e=this.$refs[t][0];e.func&&e.func()},onWidgetSort(){this.saveHome()},addWidget(){null!=this.widgetAdderSelected&&this.$store.dispatch("settings/addMobileHomeWidget",{name:this.widgetAdderSelected,id:(0,d.Z)(),data:{}})},removeWidget(t){this.$store.dispatch("settings/removeMobileHomeWidget",t)},saveHome(){this.$store.commit("settings/setMobileHome",this.widgets),this.$root.api("i/update_mobile_home",{home:this.widgets})}}});i(72029);const c=(0,i(26385).Z)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("mk-ui",{scopedSlots:t._u([{key:"header",fn:function(){return[e("span",{staticStyle:{"margin-right":"4px"}},[e("fa",{attrs:{icon:"home"}})],1),t._v(t._s(t.$t("dashboard")))]},proxy:!0},{key:"func",fn:function(){return[e("button",{on:{click:function(e){t.customizing=!t.customizing}}},[e("fa",{attrs:{icon:"cog"}})],1)]},proxy:!0}])},[e("main",[t.customizing?[e("header",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.widgetAdderSelected,expression:"widgetAdderSelected"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.widgetAdderSelected=e.target.multiple?i:i[0]}}},[e("option",{attrs:{value:"profile"}},[t._v(t._s(t.$t("@.widgets.profile")))]),e("option",{attrs:{value:"analog-clock"}},[t._v(t._s(t.$t("@.widgets.analog-clock")))]),e("option",{attrs:{value:"calendar"}},[t._v(t._s(t.$t("@.widgets.calendar")))]),e("option",{attrs:{value:"activity"}},[t._v(t._s(t.$t("@.widgets.activity")))]),e("option",{attrs:{value:"rss"}},[t._v(t._s(t.$t("@.widgets.rss")))]),e("option",{attrs:{value:"slideshow"}},[t._v(t._s(t.$t("@.widgets.slideshow")))]),e("option",{attrs:{value:"hashtags"}},[t._v(t._s(t.$t("@.widgets.hashtags")))]),e("option",{attrs:{value:"words"}},[t._v(t._s(t.$t("@.widgets.words")))]),e("option",{attrs:{value:"posts-monitor"}},[t._v(t._s(t.$t("@.widgets.posts-monitor")))]),e("option",{attrs:{value:"version"}},[t._v(t._s(t.$t("@.widgets.version")))]),e("option",{attrs:{value:"server"}},[t._v(t._s(t.$t("@.widgets.server")))]),e("option",{attrs:{value:"queue"}},[t._v(t._s(t.$t("@.widgets.queue")))]),e("option",{attrs:{value:"memo"}},[t._v(t._s(t.$t("@.widgets.memo")))]),e("option",{attrs:{value:"nav"}},[t._v(t._s(t.$t("@.widgets.nav")))]),e("option",{attrs:{value:"tips"}},[t._v(t._s(t.$t("@.widgets.tips")))]),e("option",{attrs:{value:"sunmoon"}},[t._v(t._s(t.$t("@.widgets.sunmoon")))]),e("option",{attrs:{value:"aichan"}},[t._v(t._s(t.$t("@.widgets.aichan")))])]),e("button",{on:{click:t.addWidget}},[t._v(t._s(t.$t("add-widget")))]),e("p",[e("a",{on:{click:t.hint}},[t._v(t._s(t.$t("customization-tips")))])])]),e("x-draggable",{attrs:{list:t.widgets,options:{handle:".handle",animation:150}},on:{sort:t.onWidgetSort}},t._l(t.widgets,(function(i){return e("div",{key:i.id,staticClass:"customize-container"},[e("header",[e("span",{staticClass:"handle"},[e("fa",{attrs:{icon:"bars"}})],1),t._v(t._s(i.name)),e("button",{staticClass:"remove",on:{click:function(e){return t.removeWidget(i)}}},[e("fa",{attrs:{icon:"times"}})],1)]),e("div",{on:{click:function(e){return t.widgetFunc(i.id)}}},[e(`mkw-${i.name}`,{ref:i.id,refInFor:!0,tag:"component",attrs:{widget:i,"is-customize-mode":!0,platform:"mobile"}})],1)])})),0)]:t._l(t.widgets,(function(t){return e(`mkw-${t.name}`,{key:t.id,ref:t.id,refInFor:!0,tag:"component",staticClass:"widget",attrs:{widget:t,platform:"mobile"}})}))],2)])}),[],!1,null,"020e9f7c",null).exports},72029:(t,e,i)=>{var a=i(49427);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,i(80950).Z)("72d927f0",a,!0,{})}}]);