(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[9580],{92604:(t,e,o)=>{var s=o(11063),a=o(26143)(s);a.push([t.id,".mkw-memo .mkw-memo--body[data-v-15022b96]{padding-bottom:44px}.mkw-memo .mkw-memo--body>textarea[data-v-15022b96]{background:var(--face);border:none;border-bottom:solid var(--lineWidth) var(--faceDivider);border-radius:0;color:var(--inputText);display:block;max-width:100%;min-width:100%;padding:16px;width:100%}.mkw-memo .mkw-memo--body>button[data-v-15022b96]{background:var(--primary)!important;border:none;border-radius:4px;bottom:8px;color:var(--primaryForeground);cursor:pointer;display:block;height:28px;margin:0;outline:none;padding:0 10px;position:absolute;right:8px;transition:background .1s ease}.mkw-memo .mkw-memo--body>button[data-v-15022b96]:hover{background:var(--primaryLighten10)!important}.mkw-memo .mkw-memo--body>button[data-v-15022b96]:active{background:var(--primaryDarken10)!important;transition:background 0s ease}.mkw-memo .mkw-memo--body>button[data-v-15022b96]:disabled{cursor:default;opacity:.7}",""]),t.exports=a},7711:(t,e,o)=>{"use strict";o.d(e,{Z:()=>a});var s=o(31508);function a(t){return s.ZP.extend({props:{widget:{type:Object},column:{type:Object,default:null},platform:{type:String,required:!0},isCustomizeMode:{type:Boolean,default:!1}},computed:{id(){return this.widget.id},props(){return this.widget.data}},data:()=>({bakedOldProps:null}),created(){this.mergeProps(),this.$watch("props",(()=>{this.mergeProps()})),this.bakeProps()},methods:{bakeProps(){this.bakedOldProps=JSON.stringify(this.props)},mergeProps(){if(t.props){const e=t.props();for(const t of Object.keys(e))this.props.hasOwnProperty(t)||s.ZP.set(this.props,t,e[t])}},save(){this.bakedOldProps!=JSON.stringify(this.props)&&(this.bakeProps(),"deck"==this.platform?this.$store.commit("device/updateDeckColumn",this.column):this.$root.api("i/update_widget",{id:this.id,data:this.props}))}}})}},59580:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>i});var s=o(7711),a=o(46813);const r=(0,s.Z)({name:"memo",props:()=>({compact:!1})}).extend({i18n:(0,a.Z)("common/views/widgets/memo.vue"),data:()=>({text:null,changed:!1,timeoutId:null}),created(){this.text=this.$store.state.settings.memo,this.$watch("$store.state.settings.memo",(t=>{this.text=t}))},methods:{func(){this.props.compact=!this.props.compact,this.save()},onChange(){this.changed=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.saveMemo,1e3)},saveMemo(){this.$store.dispatch("settings/set",{key:"memo",value:this.text}),this.changed=!1}}});o(99101);const i=(0,o(26385).Z)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mkw-memo"},[e("ui-container",{attrs:{"show-header":!t.props.compact},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:["far","sticky-note"]}}),t._v(t._s(t.$t("title")))]},proxy:!0}])},[e("div",{staticClass:"mkw-memo--body"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:t.$t("placeholder")},domProps:{value:t.text},on:{input:[function(e){e.target.composing||(t.text=e.target.value)},t.onChange]}}),e("button",{attrs:{disabled:!t.changed},on:{click:t.saveMemo}},[t._v(t._s(t.$t("save")))])])])],1)}),[],!1,null,"15022b96",null).exports},99101:(t,e,o)=>{var s=o(92604);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);(0,o(80950).Z)("78fa1d31",s,!0,{})}}]);