{"version":3,"sources":["games/reversi/core.js"],"names":["Reversi","BLACK","WHITE","WINNER_UNDECIDED","undefined","WINNER_EVEN","GAME_FINISHED","blackCount","count","board","whiteCount","transformPosToXy","pos","x","mapWidth","y","Math","floor","transformXyToPos","put","color","prevPos","prevColor","effects","turn","logs","push","calcTurn","canPutSomewhere","undo","pop","mapDataGet","mapHeight","map","puttablePlaces","Array","from","keys","filter","i","canPut","length","opts","canPutEverywhere","initPos","enemyColor","diffVectors","effectsInLine","dx","dy","nextPos","found","loopedBoard","stone","concat","isEnded","winner","xor","isLlotheo","a","b","constructor","bind","mapData","join","split","d"],"mappings":"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","file":"core.js","sourceRoot":"../../../built"}