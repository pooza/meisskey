{"version":3,"sources":["mfm/from-html.js"],"names":["fromHtml","treeAdapter","html","hashtagNames","dom","parse5","parseFragment","text","n","childNodes","analyze","trim","appendChildren","node","isTextNode","value","isElementNode","nodeName","txt","getText","rel","attrs","find","x","name","href","map","toLowerCase","includes","startsWith","match","part","split","length","acct","URL","hostname","isPlainSafe","input","urlRegexFull","generateLink","encoded","replace","c","charCodeAt","toString","t","join"],"mappings":"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","file":"from-html.js","sourceRoot":"../../built"}