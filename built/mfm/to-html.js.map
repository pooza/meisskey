{"version":3,"sources":["mfm/to-html.js"],"names":["toHtml","nodes","mentionedRemoteUsers","window","JSDOM","doc","document","appendChildren","targetElement","node","appendChild","nodeToElement","type","el","createElement","props","text","split","map","x","createTextNode","intersperse","emoji","name","a","username","host","acct","remoteUserInfo","find","remoteUser","href","url","uri","config","className","textContent","hashtag","setAttribute","URL","isMfmLink","children","pre","inner","code","lang","body","innerHTML","sep","xs","concat","slice"],"mappings":"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","file":"to-html.js","sourceRoot":"../../built"}