{"version":3,"sources":["misc/aiscript/evaluator.js"],"names":["ASEvaluator","updatePageVar","name","value","pageVar","pageVars","find","v","undefined","AiScriptError","updateRandomSeed","seed","opts","randomSeed","envVars","SEED","interpolate","str","scope","replace","match","getState","slice","trim","toString","evaluateVars","values","k","Object","entries","variables","evaluate","Scope","block","type","parseInt","split","isFnBlock","slots","map","x","exec","slotArg","expression","createChildScope","id","startsWith","fnName","fn","args","i","length","date","Date","day","visitor","getFullYear","getMonth","getDate","funcs","not","a","or","b","and","eq","notEq","gt","lt","gtEq","ltEq","if","bool","for","times","result","push","add","subtract","multiply","divide","mod","round","Math","strLen","strPick","strReplace","c","join","strReverse","reverse","texts","separator","stringToNumber","numberToString","splitStrByLine","pick","list","listLen","random","probability","floor","seedrandom","rannum","min","max","randomPick","dailyRandom","dailyRannum","dailyRandomPick","seedRandom","seedRannum","seedRandomPick","DRPWPM","xs","totalFactor","parts","factor","pop","text","r","stackedFactor","constructor","AI","VERSION","version","URL","page","url","user","username","LOGIN","NAME","USERNAME","USERID","NOTES_COUNT","notesCount","FOLLOWERS_COUNT","followersCount","FOLLOWING_COUNT","followingCount","IS_CAT","isCat","MY_NOTES_COUNT","MY_FOLLOWERS_COUNT","MY_FOLLOWING_COUNT","YMD","YEAR","MON","DAY","HOUR","getHours","MIN","getMinutes","SEC","getSeconds","NULL","autobind","Error","message","info","captureStackTrace","states","layer","layerdStates","later","state"],"mappings":"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","file":"evaluator.js","sourceRoot":"../../../built"}