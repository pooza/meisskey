{"version":3,"sources":["misc/get-file-info.js"],"names":["FILE_TYPE_BROWSERSAFE","getFileInfo","detectTypeWithCheck","getFileSize","calcHash","detectImageSize","getVideoProps","FILE_TYPE_DETECTS","pipeline","util","promisify","stream","TYPE_OCTET_STREAM","mime","ext","TYPE_MP4","TYPE_MP4_AS_AUDIO","path","size","md5","r","type","width","height","warnings","fileSize","img","includes","ft","FileType","fromFile","props","hasVideo","streams","filter","s","codec_type","length","getStat","fs","stat","hash","crypto","createHash","setEncoding","createReadStream","read","readable","probed","probeImageSize","catch","undefined","destroy","wUnits","hUnits","Promise","res","rej","FFmpeg","source","ffprobe","err","data"],"mappings":"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","file":"get-file-info.js","sourceRoot":"../../built"}