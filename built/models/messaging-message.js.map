{"version":3,"sources":["models/messaging-message.js"],"names":["isValidText","pack","MessagingMessage","db","get","createIndex","text","length","trim","message","me","options","opts","populateRecipient","_message","isObjectId","findOne","_id","mongo","ObjectID","deepcopy","id","user","packUser","userId","fileId","file","packFile","recipient","recipientId"],"mappings":";;;;;;;;IAWA,OAAgC;eAAhC;;IAagBA,WAAW;eAAXA;;IAOHC,IAAI;eAAJA;;;yBA/BU;0BACG;sBACO;2BACA;0BAClB;4BACQ;yBACA;AAEvB,MAAMC,mBAAmBC,iBAAE,CAACC,GAAG,CAAoB;AACnDF,iBAAiBG,WAAW,CAAC;AAC7BH,iBAAiBG,WAAW,CAAC;MAC7B,WAAeH;AAaR,SAASF,YAAYM,IAAY;IACvC,OAAOC,IAAAA,eAAM,EAACD,KAAKE,IAAI,OAAO,QAAQF,KAAKE,IAAI,MAAM;AACtD;AAKO,MAAMP,OAAO,OACnBQ,SACAC,IACAC;IAIA,MAAMC,OAAOD,WAAW;QACvBE,mBAAmB;IACpB;IAEA,IAAIC;IAEJ,0CAA0C;IAC1C,IAAIC,IAAAA,mBAAU,EAACN,UAAU;QACxBK,WAAW,MAAMZ,iBAAiBc,OAAO,CAAC;YACzCC,KAAKR;QACN;IACD,OAAO,IAAI,OAAOA,YAAY,UAAU;QACvCK,WAAW,MAAMZ,iBAAiBc,OAAO,CAAC;YACzCC,KAAK,IAAIC,SAAMC,QAAQ,CAACV;QACzB;IACD,OAAO;QACNK,WAAWM,UAASX;IACrB;IAEA,IAAIK,YAAY,MAAM,OAAO;IAE7B,mBAAmB;IACnBA,SAASO,EAAE,GAAGP,SAASG,GAAG;IAC1B,OAAOH,SAASG,GAAG;IAEnB,gBAAgB;IAChBH,SAASQ,IAAI,GAAG,MAAMC,IAAAA,UAAQ,EAACT,SAASU,MAAM,EAAEd;IAEhD,IAAII,SAASW,MAAM,EAAE;QACpB,gBAAgB;QAChBX,SAASY,IAAI,GAAG,MAAMC,IAAAA,eAAQ,EAACb,SAASW,MAAM;IAC/C;IAEA,IAAIb,KAAKC,iBAAiB,EAAE;QAC3B,qBAAqB;QACrBC,SAASc,SAAS,GAAG,MAAML,IAAAA,UAAQ,EAACT,SAASe,WAAW,EAAEnB;IAC3D;IAEA,OAAOI;AACR","file":"messaging-message.js","sourceRoot":"../../built"}