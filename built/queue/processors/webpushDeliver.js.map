{"version":3,"sources":["queue/processors/webpushDeliver.js"],"names":["enabled","update","fetchMeta","then","meta","enableServiceWorker","swPublicKey","swPrivateKey","webpush","setVapidDetails","config","url","setInterval","job","sendNotification","data","pushSubscription","payload","proxy","catch","err","WebPushError","statusCode","SwSubscription","remove","_id","mongo","ObjectID","swSubscriptionId","msg","endpoint","length","Error"],"mappings":";+BA0BA;;;eAAA;;;yBAzBuB;2BAGD;yBACG;wBACN;gCACQ;AAE3B,IAAIA,UAAU;AAEd,SAASC;IACRC,IAAAA,kBAAS,IAAGC,IAAI,CAACC,CAAAA;QAChB,IAAIA,KAAKC,mBAAmB,IAAID,KAAKE,WAAW,IAAIF,KAAKG,YAAY,EAAE;YACtEP,UAAU;YACV,kCAAkC;YAClCQ,SAAQC,eAAe,CAACC,eAAM,CAACC,GAAG,EAAEP,KAAKE,WAAW,EAAEF,KAAKG,YAAY;QACxE,OAAO;YACNP,UAAU;QACX;IACD;AACD;AAEAY,YAAY;IAAQX;AAAS,GAAG;AAChCA;MAEA,WAAe,OAAOY;IACrB,IAAI,CAACb,SAAS,OAAO;IAErB,MAAMQ,SAAQM,gBAAgB,CAACD,IAAIE,IAAI,CAACC,gBAAgB,EAAEH,IAAIE,IAAI,CAACE,OAAO,EAAE;QAC3EC,OAAOR,eAAM,CAACQ,KAAK;IACpB,GAAGC,KAAK,CAAC,OAAOC;QACf,IAAIA,eAAeZ,SAAQa,YAAY,EAAE;YACxC,IAAID,IAAIE,UAAU,KAAK,KAAK;gBAC3B,MAAMC,uBAAc,CAACC,MAAM,CAAC;oBAC3BC,KAAK,IAAIC,SAAMC,QAAQ,CAACd,IAAIE,IAAI,CAACa,gBAAgB;gBAClD;YACD;YAEA,MAAMC,MAAM,CAAC,EAAET,IAAIE,UAAU,CAAC,CAAC,EAAET,IAAIE,IAAI,CAACC,gBAAgB,CAACc,QAAQ,CAAC,CAAC,EAAEjB,IAAIE,IAAI,CAACE,OAAO,CAACc,MAAM,CAAC,CAAC;YAEhG,kCAAkC;YAClC,IAAIX,IAAIE,UAAU,IAAI,OAAOF,IAAIE,UAAU,IAAI,KAAK;gBACnD,OAAO,CAAC,MAAM,EAAEO,IAAI,CAAC,CAAC;YACvB,OAAO;gBACN,MAAM,IAAIG,MAAMH;YACjB;QACD,OAAO;YACN,MAAMT;QACP;IACD;IAEA,OAAO,CAAC,EAAE,CAAC;AACZ","file":"webpushDeliver.js","sourceRoot":"../../../built"}