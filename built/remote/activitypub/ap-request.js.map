{"version":3,"sources":["remote/activitypub/ap-request.js"],"names":["createSignedPost","createSignedGet","args","u","URL","url","digestHeader","crypto","createHash","update","body","digest","request","href","method","headers","objectAssignWithLcKey","Date","toUTCString","hostname","additionalHeaders","result","signToRequest","key","signingString","signature","signatureHeader","includeHeaders","genSigningString","sign","Buffer","from","privateKeyPem","toString","keyId","join","Signature","lcObjectKey","results","map","x","toLowerCase","push","pathname","src","dst","Object","keys","filter","a","b","assign"],"mappings":";;;;;;;;IAagBA,gBAAgB;eAAhBA;;IAyBAC,eAAe;eAAfA;;;wBAtCQ;AAajB,SAASD,iBAAiBE,IAA+F;IAC/H,MAAMC,IAAI,IAAIC,IAAIF,KAAKG,GAAG;IAC1B,MAAMC,eAAe,CAAC,QAAQ,EAAEC,QAAOC,UAAU,CAAC,UAAUC,MAAM,CAACP,KAAKQ,IAAI,EAAEC,MAAM,CAAC,UAAU,CAAC;IAEhG,MAAMC,UAAmB;QACxBP,KAAKF,EAAEU,IAAI;QACXC,QAAQ;QACRC,SAAUC,sBAAsB;YAC/B,QAAQ,IAAIC,OAAOC,WAAW;YAC9B,QAAQf,EAAEgB,QAAQ;YAClB,gBAAgB;YAChB,UAAUb;QACX,GAAGJ,KAAKkB,iBAAiB;IAC1B;IAEA,MAAMC,SAASC,cAAcV,SAASV,KAAKqB,GAAG,EAAE;QAAC;QAAoB;QAAQ;QAAQ;KAAS;IAE9F,OAAO;QACNX;QACAY,eAAeH,OAAOG,aAAa;QACnCC,WAAWJ,OAAOI,SAAS;QAC3BC,iBAAiBL,OAAOK,eAAe;IACxC;AACD;AAEO,SAASzB,gBAAgBC,IAAiF;IAChH,MAAMC,IAAI,IAAIC,IAAIF,KAAKG,GAAG;IAE1B,MAAMO,UAAmB;QACxBP,KAAKF,EAAEU,IAAI;QACXC,QAAQ;QACRC,SAAUC,sBAAsB;YAC/B,UAAU;YACV,QAAQ,IAAIC,OAAOC,WAAW;YAC9B,QAAQ,IAAId,IAAIF,KAAKG,GAAG,EAAEc,QAAQ;QACnC,GAAGjB,KAAKkB,iBAAiB;IAC1B;IAEA,MAAMC,SAASC,cAAcV,SAASV,KAAKqB,GAAG,EAAE;QAAC;QAAoB;QAAQ;QAAQ;KAAS;IAE9F,OAAO;QACNX;QACAY,eAAeH,OAAOG,aAAa;QACnCC,WAAWJ,OAAOI,SAAS;QAC3BC,iBAAiBL,OAAOK,eAAe;IACxC;AACD;AAEA,SAASJ,cAAcV,OAAgB,EAAEW,GAAe,EAAEI,cAAwB;IACjF,MAAMH,gBAAgBI,iBAAiBhB,SAASe;IAChD,MAAMF,YAAYlB,QAAOsB,IAAI,CAAC,UAAUC,OAAOC,IAAI,CAACP,gBAAgBD,IAAIS,aAAa,EAAEC,QAAQ,CAAC;IAChG,MAAMP,kBAAkB,CAAC,OAAO,EAAEH,IAAIW,KAAK,CAAC,kCAAkC,EAAEP,eAAeQ,IAAI,CAAC,KAAK,aAAa,EAAEV,UAAU,CAAC,CAAC;IAEpIb,QAAQG,OAAO,GAAGC,sBAAsBJ,QAAQG,OAAO,EAAE;QACxDqB,WAAWV;IACZ;IAEA,OAAO;QACNd;QACAY;QACAC;QACAC;IACD;AACD;AAEA,SAASE,iBAAiBhB,OAAgB,EAAEe,cAAwB;IACnEf,QAAQG,OAAO,GAAGsB,YAAYzB,QAAQG,OAAO;IAE7C,MAAMuB,UAAoB,EAAE;IAE5B,KAAK,MAAMf,OAAOI,eAAeY,GAAG,CAACC,CAAAA,IAAKA,EAAEC,WAAW,IAAK;QAC3D,IAAIlB,QAAQ,oBAAoB;YAC/Be,QAAQI,IAAI,CAAC,CAAC,kBAAkB,EAAE9B,QAAQE,MAAM,CAAC2B,WAAW,GAAG,CAAC,EAAE,IAAIrC,IAAIQ,QAAQP,GAAG,EAAEsC,QAAQ,CAAC,CAAC;QAClG,OAAO;YACNL,QAAQI,IAAI,CAAC,CAAC,EAAEnB,IAAI,EAAE,EAAEX,QAAQG,OAAO,CAACQ,IAAI,CAAC,CAAC;QAC/C;IACD;IAEA,OAAOe,QAAQH,IAAI,CAAC;AACrB;AAEA,SAASE,YAAYO,GAA2B;IAC/C,MAAMC,MAA8B,CAAC;IACrC,KAAK,MAAMtB,OAAOuB,OAAOC,IAAI,CAACH,KAAKI,MAAM,CAACR,CAAAA,IAAKA,KAAK,eAAe,OAAOI,GAAG,CAACJ,EAAE,KAAK,UAAWK,GAAG,CAACtB,IAAIkB,WAAW,GAAG,GAAGG,GAAG,CAACrB,IAAI;IACjI,OAAOsB;AACR;AAEA,SAAS7B,sBAAsBiC,CAAyB,EAAEC,CAAyB;IAClF,OAAOJ,OAAOK,MAAM,CAACd,YAAYY,IAAIZ,YAAYa;AAClD","file":"ap-request.js","sourceRoot":"../../../built"}