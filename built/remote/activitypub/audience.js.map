{"version":3,"sources":["remote/activitypub/audience.js"],"names":["parseAudience","actor","to","cc","resolver","toGroups","groupingAudience","getApIds","ccGroups","others","unique","concat","other","limit","promiseLimit","mentionedUsers","Promise","all","map","id","resolvePerson","catch","filter","x","public","length","visibility","visibleUsers","followers","ids","groups","isPublic","push","isFollowers","includes","uri"],"mappings":";+BAesBA;;;eAAAA;;;sBAda;wBAEL;uBACC;8BACD;AAUvB,eAAeA,cAAcC,KAAkB,EAAEC,EAAa,EAAEC,EAAa,EAAEC,QAAmB;IACxG,MAAMC,WAAWC,iBAAiBC,IAAAA,cAAQ,EAACL,KAAKD;IAChD,MAAMO,WAAWF,iBAAiBC,IAAAA,cAAQ,EAACJ,KAAKF;IAEhD,MAAMQ,SAASC,IAAAA,aAAM,EAACC,IAAAA,aAAM,EAAC;QAACN,SAASO,KAAK;QAAEJ,SAASI,KAAK;KAAC;IAE7D,MAAMC,QAAQC,cAA2B;IACzC,MAAMC,iBAAiB,AAAC,CAAA,MAAMC,QAAQC,GAAG,CACxCR,OAAOS,GAAG,CAACC,CAAAA,KAAMN,MAAM,IAAMO,IAAAA,qBAAa,EAACD,IAAI,MAAMf,UAAUiB,KAAK,CAAC,IAAM,QAC5E,EAAGC,MAAM,CAAC,CAACC,IAAkBA,KAAK;IAElC,IAAIlB,SAASmB,MAAM,CAACC,MAAM,GAAG,GAAG;QAC/B,OAAO;YACNC,YAAY;YACZX;YACAY,cAAc,EAAE;QACjB;IACD;IAEA,IAAInB,SAASgB,MAAM,CAACC,MAAM,GAAG,GAAG;QAC/B,OAAO;YACNC,YAAY;YACZX;YACAY,cAAc,EAAE;QACjB;IACD;IAEA,IAAItB,SAASuB,SAAS,CAACH,MAAM,GAAG,GAAG;QAClC,OAAO;YACNC,YAAY;YACZX;YACAY,cAAc,EAAE;QACjB;IACD;IAEA,OAAO;QACND,YAAY;QACZX;QACAY,cAAcZ;IACf;AACD;AAEA,SAAST,iBAAiBuB,GAAa,EAAE5B,KAAkB;IAC1D,MAAM6B,SAAS;QACdN,QAAQ,EAAE;QACVI,WAAW,EAAE;QACbhB,OAAO,EAAE;IACV;IAEA,KAAK,MAAMO,MAAMU,IAAK;QACrB,IAAIE,SAASZ,KAAK;YACjBW,OAAON,MAAM,CAACQ,IAAI,CAACb;QACpB,OAAO,IAAIc,YAAYd,IAAIlB,QAAQ;YAClC6B,OAAOF,SAAS,CAACI,IAAI,CAACb;QACvB,OAAO;YACNW,OAAOlB,KAAK,CAACoB,IAAI,CAACb;QACnB;IACD;IAEAW,OAAOlB,KAAK,GAAGF,IAAAA,aAAM,EAACoB,OAAOlB,KAAK;IAElC,OAAOkB;AACR;AAEA,SAASC,SAASZ,EAAU;IAC3B,OAAO;QACN;QACA;QACA;KACA,CAACe,QAAQ,CAACf;AACZ;AAEA,SAASc,YAAYd,EAAU,EAAElB,KAAkB;IAClD,OAAO;QACN,CAAC,EAAEA,MAAMkC,GAAG,CAAC,UAAU,CAAC;KAExB,CAACD,QAAQ,CAACf;AACZ","file":"audience.js","sourceRoot":"../../../built"}