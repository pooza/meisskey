{"version":3,"sources":["remote/activitypub/kernel/undo/announce.js"],"names":["undoAnnounce","actor","activity","targetUri","object","id","note","startsWith","config","url","mongo","ObjectID","split","pop","Note","findOne","userId","_id","renoteId","deletedAt","$exists","targetNote","uri","deleteNote"],"mappings":";+BAOaA;;;eAAAA;;;yBAPU;wBACJ;wBAGI;sBACK;AAErB,MAAMA,eAAe,OAAOC,OAAoBC;IACtD,MAAMC,YAAY,OAAOD,SAASE,MAAM,IAAI,WAAWF,SAASE,MAAM,GAAGF,SAASE,MAAM,CAACC,EAAE;IAE3F,IAAIC;IAEJ,IAAIH,UAAUI,UAAU,CAACC,eAAM,CAACC,GAAG,GAAG,MAAM;QAC3C,aAAa;QACb,MAAMJ,KAAK,IAAIK,SAAMC,QAAQ,CAACR,UAAUS,KAAK,CAAC,KAAKC,GAAG;QACtDP,OAAO,MAAMQ,aAAI,CAACC,OAAO,CAAC;YACzBC,QAAQf,MAAMgB,GAAG;YACjBC,UAAUb;YACVc,WAAW;gBAAEC,SAAS;YAAM;QAC7B;QAEA,IAAI,CAACd,MAAM;YACV,OAAO,CAAC,gCAAgC,CAAC;QAC1C;IACD,OAAO;QACN,aAAa;QACb,MAAMe,aAAa,MAAMP,aAAI,CAACC,OAAO,CAAC;YACrCO,KAAKnB;QACN;QAEA,IAAI,CAACkB,YAAY;YAChB,OAAO,CAAC,8BAA8B,CAAC;QACxC;QAEAf,OAAO,MAAMQ,aAAI,CAACC,OAAO,CAAC;YACzBC,QAAQf,MAAMgB,GAAG;YACjBC,UAAUG,WAAWJ,GAAG;YACxBE,WAAW;gBAAEC,SAAS;YAAM;QAC7B;QAEA,IAAI,CAACd,MAAM;YACV,OAAO,CAAC,gCAAgC,CAAC;QAC1C;IACD;IAEA,MAAMiB,IAAAA,eAAU,EAACtB,OAAOK;IACxB,OAAO,CAAC,EAAE,CAAC;AACZ","file":"announce.js","sourceRoot":"../../../../../built"}