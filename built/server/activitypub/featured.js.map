{"version":3,"sources":["server/activitypub/featured.js"],"names":["ctx","config","disableFederation","throw","ObjectID","isValid","params","user","status","userId","User","findOne","_id","isDeleted","$ne","isSuspended","noFederation","host","pinnedNoteIds","pinnedNotes","Promise","all","filter","map","id","Note","renderedNotes","note","deletedAt","renderNote","rendered","renderOrderedCollection","url","length","body","renderActivity","set","setResponseType"],"mappings":";+BAUA;;;eAAA;;;yBAVyB;wBAEN;sBACF;0BACc;mCACK;6BACJ;sBACJ;uBACL;MAEvB,WAAe,OAAOA;IACrB,IAAIC,eAAM,CAACC,iBAAiB,EAAEF,IAAIG,KAAK,CAAC;IAExC,IAAI,CAACC,iBAAQ,CAACC,OAAO,CAACL,IAAIM,MAAM,CAACC,IAAI,GAAG;QACvCP,IAAIQ,MAAM,GAAG;QACb;IACD;IAEA,MAAMC,SAAS,IAAIL,iBAAQ,CAACJ,IAAIM,MAAM,CAACC,IAAI;IAE3C,cAAc;IACd,MAAMA,OAAO,MAAMG,aAAI,CAACC,OAAO,CAAC;QAC/BC,KAAKH;QACLI,WAAW;YAAEC,KAAK;QAAK;QACvBC,aAAa;YAAED,KAAK;QAAK;QACzBE,cAAc;YAAEF,KAAK;QAAK;QAC1BG,MAAM;IACP;IAEA,IAAIV,QAAQ,MAAM;QACjBP,IAAIQ,MAAM,GAAG;QACb;IACD;IAEA,MAAMU,gBAAgBX,KAAKW,aAAa,IAAI,EAAE;IAE9C,MAAMC,cAAc,MAAMC,QAAQC,GAAG,CAACH,cAAcI,MAAM,CAAClB,iBAAQ,CAACC,OAAO,EAAEkB,GAAG,CAACC,CAAAA,KAAMC,aAAI,CAACd,OAAO,CAAC;YAAEC,KAAKY;QAAG;IAE9G,MAAME,gBAAgB,MAAMN,QAAQC,GAAG,CAACF,YAAYG,MAAM,CAAC,CAACK,OAAwBA,QAAQ,QAAQA,KAAKC,SAAS,IAAI,MAAML,GAAG,CAACI,CAAAA,OAAQE,IAAAA,cAAU,EAACF;IAEnJ,MAAMG,WAAWC,IAAAA,0BAAuB,EACvC,CAAC,EAAE9B,eAAM,CAAC+B,GAAG,CAAC,OAAO,EAAEvB,OAAO,qBAAqB,CAAC,EACpDiB,cAAcO,MAAM,EAAE,MAAM,MAAMP;IAGnC1B,IAAIkC,IAAI,GAAGC,IAAAA,wBAAc,EAACL;IAC1B9B,IAAIoC,GAAG,CAAC,iBAAiB;IACzBC,IAAAA,4BAAe,EAACrC;AACjB","file":"featured.js","sourceRoot":"../../../built"}