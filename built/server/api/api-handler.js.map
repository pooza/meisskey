{"version":3,"sources":["server/api/api-handler.js"],"names":["endpoint","ctx","Promise","res","body","method","query","request","reply","x","y","status","error","message","code","id","kind","info","authenticate","then","user","app","call","name","meta","cacheSec","set","catch","e","httpStatusCode","AuthenticationError","ApiError"],"mappings":";+BAOA;;;eAAA;;;8BAJkD;sBACjC;uBACQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAEzB,WAAe,CAACA,UAAqBC,MAA8B,IAAIC,QAAQ,CAACC;QAC/E,MAAMC,OAAYH,IAAII,MAAM,KAAK,QAAQJ,IAAIK,KAAK,GAAGL,IAAIM,OAAO,CAACH,IAAI;QAErE,MAAMI,QAAQ,CAACC,GAASC;YACvB,IAAID,KAAK,MAAM;gBACdR,IAAIU,MAAM,GAAG;YACd,OAAO,IAAI,OAAOF,MAAM,UAAU;oBAItBC,IACHA,KACFA,KACEA,KACDA;gBAPPT,IAAIU,MAAM,GAAGF;gBACbR,IAAIG,IAAI,GAAG;oBACVQ,OAAO;wBACNC,OAAO,GAAEH,KAAAA,eAAAA,yBAAAA,GAAGG,OAAO;wBACnBC,IAAI,GAAEJ,MAAAA,eAAAA,0BAAAA,IAAGI,IAAI;wBACbC,EAAE,GAAEL,MAAAA,eAAAA,0BAAAA,IAAGK,EAAE;wBACTC,IAAI,GAAEN,MAAAA,eAAAA,0BAAAA,IAAGM,IAAI;uBACT,AAACN,EAAAA,MAAAA,eAAAA,0BAAAA,IAAGO,IAAI,KAAIP,EAAEM,IAAI,KAAK,WAAY;wBAAEC,MAAMP,EAAEO,IAAI;oBAAC,IAAI,CAAC;gBAE7D;YACD,OAAO;gBACNhB,IAAIG,IAAI,GAAGK;YACZ;YACAN;QACD;QAEA,iBAAiB;QACjBe,IAAAA,qBAAY,EAACd,IAAI,CAAC,IAAI,EAAEe,IAAI,CAAC,CAAC,CAACC,MAAMC,IAAI;YACxC,eAAe;YACfC,IAAAA,aAAI,EAACtB,SAASuB,IAAI,EAAEH,MAAMC,KAAKjB,MAAMH,KAAKkB,IAAI,CAAC,CAAChB;gBAC/C,IAAIF,IAAII,MAAM,KAAK,SAASL,SAASwB,IAAI,CAACC,QAAQ,IAAI,CAACrB,IAAI,CAAC,IAAI,IAAI,CAACgB,QAAQ,CAACC,KAAK;oBAClFpB,IAAIyB,GAAG,CAAC,iBAAiB,CAAC,gBAAgB,EAAE1B,SAASwB,IAAI,CAACC,QAAQ,CAAC,CAAC;gBACrE;gBACAjB,MAAML;YACP,GAAGwB,KAAK,CAACC,CAAAA;gBACRpB,MAAMoB,EAAEC,cAAc,GAAGD,EAAEC,cAAc,GAAGD,EAAEZ,IAAI,IAAI,WAAW,MAAM,KAAKY;YAC7E;QACD,GAAGD,KAAK,CAACC,CAAAA;YACR,IAAIA,aAAaE,iCAAmB,EAAE;gBACrCtB,MAAM,KAAK,IAAIuB,eAAQ,CAAC;oBACvBlB,SAAS;oBACTC,MAAM;oBACNC,IAAI;gBACL;YACD,OAAO;gBACNP,MAAM,KAAK,IAAIuB,eAAQ;YACxB;QACD;IACD","file":"api-handler.js","sourceRoot":"../../../built"}