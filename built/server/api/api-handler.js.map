{"version":3,"sources":["server/api/api-handler.js"],"names":["endpoint","ctx","Promise","res","body","method","query","request","reply","x","y","status","error","message","code","id","kind","info","authenticate","ip","then","user","app","call","name","meta","cacheSec","set","catch","e","httpStatusCode","AuthenticationError","ApiError","AuthenticationLimitError"],"mappings":";+BAOA;;;eAAA;;;8BAJ4E;sBAC3D;uBACQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAEzB,WAAe,CAACA,UAAqBC,MAA8B,IAAIC,QAAQ,CAACC;QAC/E,MAAMC,OAAYH,IAAII,MAAM,KAAK,QAAQJ,IAAIK,KAAK,GAAGL,IAAIM,OAAO,CAACH,IAAI;QAErE,MAAMI,QAAQ,CAACC,GAASC;YACvB,IAAID,KAAK,MAAM;gBACdR,IAAIU,MAAM,GAAG;YACd,OAAO,IAAI,OAAOF,MAAM,UAAU;oBAItBC,IACHA,KACFA,KACEA,KACDA;gBAPPT,IAAIU,MAAM,GAAGF;gBACbR,IAAIG,IAAI,GAAG;oBACVQ,OAAO;wBACNC,OAAO,GAAEH,KAAAA,eAAAA,yBAAAA,GAAGG,OAAO;wBACnBC,IAAI,GAAEJ,MAAAA,eAAAA,0BAAAA,IAAGI,IAAI;wBACbC,EAAE,GAAEL,MAAAA,eAAAA,0BAAAA,IAAGK,EAAE;wBACTC,IAAI,GAAEN,MAAAA,eAAAA,0BAAAA,IAAGM,IAAI;uBACT,AAACN,EAAAA,MAAAA,eAAAA,0BAAAA,IAAGO,IAAI,KAAIP,EAAEM,IAAI,KAAK,WAAY;wBAAEC,MAAMP,EAAEO,IAAI;oBAAC,IAAI,CAAC;gBAE7D;YACD,OAAO;gBACNhB,IAAIG,IAAI,GAAGK;YACZ;YACAN;QACD;QAEA,iBAAiB;QACjBe,IAAAA,qBAAY,EAACd,IAAI,CAAC,IAAI,EAAEH,IAAIkB,EAAE,EAAEC,IAAI,CAAC,CAAC,CAACC,MAAMC,IAAI;YAChD,eAAe;YACfC,IAAAA,aAAI,EAACvB,SAASwB,IAAI,EAAEH,MAAMC,KAAKlB,MAAMH,KAAKmB,IAAI,CAAC,CAACjB;gBAC/C,IAAIF,IAAII,MAAM,KAAK,SAASL,SAASyB,IAAI,CAACC,QAAQ,IAAI,CAACtB,IAAI,CAAC,IAAI,IAAI,CAACiB,QAAQ,CAACC,KAAK;oBAClFrB,IAAI0B,GAAG,CAAC,iBAAiB,CAAC,gBAAgB,EAAE3B,SAASyB,IAAI,CAACC,QAAQ,CAAC,CAAC;gBACrE;gBACAlB,MAAML;YACP,GAAGyB,KAAK,CAACC,CAAAA;gBACRrB,MAAMqB,EAAEC,cAAc,GAAGD,EAAEC,cAAc,GAAGD,EAAEb,IAAI,IAAI,WAAW,MAAM,KAAKa;YAC7E;QACD,GAAGD,KAAK,CAACC,CAAAA;YACR,IAAIA,aAAaE,iCAAmB,EAAE;gBACrCvB,MAAM,KAAK,IAAIwB,eAAQ,CAAC;oBACvBnB,SAAS;oBACTC,MAAM;oBACNC,IAAI;gBACL;YACD,OAAO,IAAIc,aAAaI,sCAAwB,EAAE;gBACjDzB,MAAM,KAAK,IAAIwB,eAAQ,CAAC;oBACvBnB,SAAS;oBACTC,MAAM;oBACNC,IAAI;gBACL;YACD,OAAO;gBACNP,MAAM,KAAK,IAAIwB,eAAQ;YACxB;QACD;IACD","file":"api-handler.js","sourceRoot":"../../../built"}