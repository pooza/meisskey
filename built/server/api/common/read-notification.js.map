{"version":3,"sources":["server/api/common/read-notification.js"],"names":["user","message","Promise","resolve","reject","userId","isObjectId","mongo","ObjectID","ids","Array","isArray","map","m","_id","readResult","Notification","update","$in","isRead","$set","multi","nModified","hideUserIds","getHideUserIdsById","count","notifieeId","notifierId","$nin","limit","User","hasUnreadNotification","publishMainStream"],"mappings":";+BAOA;;CAEC,GACD;;;eAAA;;;yBAVuB;4BACA;8BACgC;wBACrB;8BACC;sBAClB;MAKjB,WAAe,CACdA,MACAC,UACI,IAAIC,QAAa,OAAOC,SAASC;QAErC,MAAMC,SAASC,IAAAA,mBAAU,EAACN,QACvBA,OACA,IAAIO,SAAMC,QAAQ,CAACR;QAEtB,MAAMS,MAAwBC,MAAMC,OAAO,CAACV,WACzCK,IAAAA,mBAAU,EAACL,OAAO,CAAC,EAAE,IACnBA,UACD,OAAOA,OAAO,CAAC,EAAE,KAAK,WACrB,AAACA,QAAqBW,GAAG,CAACC,CAAAA,IAAK,IAAIN,SAAMC,QAAQ,CAACK,MAClD,AAACZ,QAA4BW,GAAG,CAACC,CAAAA,IAAKA,EAAEC,GAAG,IAC7CR,IAAAA,mBAAU,EAACL,WACV;YAAEA;SAA2B,GAC7B,OAAOA,YAAY,WAClB;YAAC,IAAIM,SAAMC,QAAQ,CAACP;SAAS,GAC7B;YAAEA,QAA0Ba,GAAG;SAAC;QAErC,mBAAmB;QACnB,MAAMC,aAAa,MAAMC,qBAAY,CAACC,MAAM,CAAC;YAC5CH,KAAK;gBAAEI,KAAKT;YAAI;YAChBU,QAAQ;QACT,GAAG;YACDC,MAAM;gBACLD,QAAQ;YACT;QACD,GAAG;YACFE,OAAO;QACR;QAED,IAAIN,WAAWO,SAAS,KAAK,GAAG;QAEhC,MAAMC,cAAc,MAAMC,IAAAA,gCAAkB,EAACnB,QAAQ,OAAO;QAE5D,wCAAwC;QACxC,MAAMoB,QAAQ,MAAMT,qBAAY,CAC9BS,KAAK,CAAC;YACNC,YAAYrB;YACZsB,YAAY;gBACXC,MAAML;YACP;YACAJ,QAAQ;QACT,GAAG;YACDU,OAAO;QACR;QAEF,IAAIJ,SAAS,GAAG;YACf,cAAc;YACdK,aAAI,CAACb,MAAM,CAAC;gBAAEH,KAAKT;YAAO,GAAG;gBAC5Be,MAAM;oBACLW,uBAAuB;gBACxB;YACD;YAEA,yCAAyC;YACzCC,IAAAA,yBAAiB,EAAC3B,QAAQ;QAC3B;IACD","file":"read-notification.js","sourceRoot":"../../../../built"}