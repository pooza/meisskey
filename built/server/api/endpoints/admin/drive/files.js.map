{"version":3,"sources":["server/api/endpoints/admin/drive/files.js"],"names":["meta","tags","requireCredential","requireModerator","params","limit","validator","$","optional","num","range","default","offset","min","origin","str","or","hostname","nullable","attached","type","match","typeFilterValidater","define","ps","me","q","$and","length","toDbHost","s","getSystem1","_id","$ne","push","$or","$exists","avatarId","bannerId","contentType","genTypeFilterRegex","files","File","find","sort","skip","packMany","detail","withUser","self"],"mappings":";;;;;;;;IAOaA,IAAI;eAAJA;;IA8Cb,OAqDG;eArDH;;;sBArDc;6BACW;gCAC+B;2BACzB;4BACJ;wBACR;AAEZ,MAAMA,OAAO;IACnBC,MAAM;QAAC;KAAQ;IAEfC,mBAAmB;IACnBC,kBAAkB;IAElBC,QAAQ;QACPC,OAAO;YACNC,WAAWC,aAAC,CAACC,QAAQ,CAACC,GAAG,CAACC,KAAK,CAAC,GAAG;YACnCC,SAAS;QACV;QAEAC,QAAQ;YACPN,WAAWC,aAAC,CAACC,QAAQ,CAACC,GAAG,CAACI,GAAG,CAAC;YAC9BF,SAAS;QACV;QAEAG,QAAQ;YACPR,WAAWC,aAAC,CAACC,QAAQ,CAACO,GAAG,CAACC,EAAE,CAAC;gBAC5B;gBACA;gBACA;gBACA;aACA;YACDL,SAAS;QACV;QAEAM,UAAU;YACTX,WAAWC,aAAC,CAACC,QAAQ,CAACU,QAAQ,CAACH,GAAG;YAClCJ,SAAS;QACV;QAEAQ,UAAU;YACTb,WAAWC,aAAC,CAACC,QAAQ,CAACO,GAAG,CAACC,EAAE,CAAC;gBAC5B;gBACA;gBACA;aACA;QACF;QAEAI,MAAM;YACLd,WAAWC,aAAC,CAACC,QAAQ,CAACO,GAAG,CAACM,KAAK,CAACC,mCAAmB;QACpD;IACD;AACD;MAEA,WAAeC,IAAAA,eAAM,EAACvB,MAAM,OAAOwB,IAAIC;IACtC,MAAMC,IAAI;QACTC,MAAM;YAAE,CAAC;SAAG;IACb;IAEA,IAAIH,GAAGP,QAAQ,IAAI,QAAQO,GAAGP,QAAQ,CAACW,MAAM,GAAG,GAAG;QAClDF,CAAC,CAAC,sBAAsB,GAAGG,IAAAA,qBAAQ,EAACL,GAAGP,QAAQ;IAChD,OAAO;QACN,IAAIO,GAAGV,MAAM,KAAK,UAAU;YAC3BY,CAAC,CAAC,sBAAsB,GAAG;YAC3B,MAAMI,IAAI,MAAMC,IAAAA,sBAAU;YAC1BL,CAAC,CAAC,kBAAkB,GAAGI,EAAEE,GAAG;QAC7B,OAAO,IAAIR,GAAGV,MAAM,KAAK,SAAS;YACjCY,CAAC,CAAC,sBAAsB,GAAG;YAC3B,MAAMI,IAAI,MAAMC,IAAAA,sBAAU;YAC1BL,CAAC,CAAC,kBAAkB,GAAG;gBAAEO,KAAKH,EAAEE,GAAG;YAAC;QACrC,OAAO,IAAIR,GAAGV,MAAM,KAAK,UAAU;YAClCY,CAAC,CAAC,sBAAsB,GAAG;gBAAEO,KAAK;YAAK;QACxC;IACD;IAEA,IAAIT,GAAGL,QAAQ,KAAK,YAAY;QAC/BO,EAAEC,IAAI,CAACO,IAAI,CAAC;YACXC,KAAK;gBACJ;oBAAE,8BAA8B;wBAAEC,SAAS;oBAAK;gBAAE;gBAClD;oBAAE,iCAAiC;wBAAEA,SAAS;oBAAK;gBAAE;gBACrD;oBAAEJ,KAAKP,GAAGY,QAAQ;gBAAC;gBACnB;oBAAEL,KAAKP,GAAGa,QAAQ;gBAAC;aACnB;QACF;IACD,OAAO,IAAId,GAAGL,QAAQ,KAAK,eAAe;QACzCO,EAAEC,IAAI,CAACO,IAAI,CAAC;YACXP,MAAM;gBACL;oBAAE,8BAA8B;wBAAES,SAAS;oBAAM;gBAAE;gBACnD;oBAAE,iCAAiC;wBAAEA,SAAS;oBAAM;gBAAE;gBACtD;oBAAEJ,KAAK;wBAAEC,KAAKR,GAAGY,QAAQ;oBAAC;gBAAE;gBAC5B;oBAAEL,KAAK;wBAAEC,KAAKR,GAAGa,QAAQ;oBAAC;gBAAE;aAC5B;QACF;IACD;IAEA,IAAId,GAAGJ,IAAI,EAAE;QACZM,EAAEa,WAAW,GAAGC,IAAAA,kCAAkB,EAAChB,GAAGJ,IAAI;IAC3C;IAEA,MAAMqB,QAAQ,MAAMC,kBAAI,CACtBC,IAAI,CAACjB,GAAG;QACRrB,OAAOmB,GAAGnB,KAAK;QACfuC,MAAM;YAAEZ,KAAK,CAAC;QAAE;QAChBa,MAAMrB,GAAGZ,MAAM;IAChB;IAED,OAAO,MAAMkC,IAAAA,mBAAQ,EAACL,OAAO;QAAEM,QAAQ;QAAMC,UAAU;QAAMC,MAAM;IAAK;AACzE","file":"files.js","sourceRoot":"../../../../../../built"}