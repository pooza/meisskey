{"version":3,"sources":["server/api/endpoints/aggregation/hashtags.js"],"names":["meta","tags","requireCredential","allowGet","cacheSec","define","ps","instance","fetchMeta","hidedTags","map","t","toLowerCase","span","data","Note","aggregate","$match","createdAt","$gt","Date","now","tagsLower","$exists","$ne","$unwind","$group","_id","tag","userId","length","x","filter","includes","i","findIndex","name","count","push","sort","a","b","slice"],"mappings":";;;;;;;;IAIaA,IAAI;eAAJA;;IAQb,OA6DG;eA7DH;;;sBAZiB;wBACE;2BACG;AAEf,MAAMA,OAAO;IACnBC,MAAM;QAAC;KAAW;IAElBC,mBAAmB;IACnBC,UAAU;IACVC,UAAU;AACX;MAEA,WAAeC,IAAAA,eAAM,EAACL,MAAM,OAAOM;IAClC,MAAMC,WAAW,MAAMC,IAAAA,kBAAS;IAChC,MAAMC,YAAYF,SAASE,SAAS,CAACC,GAAG,CAACC,CAAAA,IAAKA,EAAEC,WAAW;IAE3D,KAAK;IACL,8CAA8C;IAC9C,MAAMC,OAAO,OAAO,KAAK,KAAK,IAAI,KAAK;IAEvC,4CAA4C;IAC5C,MAAMC,OAAO,MAAMC,aAAI,CAACC,SAAS,CAAC;QAAC;YAClCC,QAAQ;gBACPC,WAAW;oBACVC,KAAK,IAAIC,KAAKA,KAAKC,GAAG,KAAKR;gBAC5B;gBACAS,WAAW;oBACVC,SAAS;oBACTC,KAAK,EAAE;gBACR;YACD;QACD;QAAG;YACFC,SAAS;QACV;QAAG;YACFC,QAAQ;gBACPC,KAAK;oBAAEC,KAAK;oBAAcC,QAAQ;gBAAU;YAC7C;QACD;KAAE;IAMF,YAAY;IAEZ,IAAIf,KAAKgB,MAAM,IAAI,GAAG;QACrB,OAAO,EAAE;IACV;IAEA,IAAI7B,OAGE,EAAE;IAER,OAAO;IACP,KAAK,MAAM8B,KAAKjB,KAAKJ,GAAG,CAACqB,CAAAA,IAAKA,EAAEJ,GAAG,EAAEK,MAAM,CAACD,CAAAA,IAAK,CAACtB,UAAUwB,QAAQ,CAACF,EAAEH,GAAG,GAAI;QAC7E,MAAMM,IAAIjC,KAAKkC,SAAS,CAACP,CAAAA,MAAOA,IAAIQ,IAAI,IAAIL,EAAEH,GAAG;QACjD,IAAIM,KAAK,CAAC,GAAG;YACZjC,IAAI,CAACiC,EAAE,CAACG,KAAK;QACd,OAAO;YACNpC,KAAKqC,IAAI,CAAC;gBACTF,MAAML,EAAEH,GAAG;gBACXS,OAAO;YACR;QACD;IACD;IAEA,cAAc;IACdpC,KAAKsC,IAAI,CAAC,CAACC,GAAGC,IAAMA,EAAEJ,KAAK,GAAGG,EAAEH,KAAK;IAErCpC,OAAOA,KAAKyC,KAAK,CAAC,GAAG;IAErB,OAAOzC;AACR","file":"hashtags.js","sourceRoot":"../../../../../built"}