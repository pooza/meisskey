{"version":3,"sources":["server/api/endpoints/drive/folders/update.js"],"names":["meta","stability","desc","tags","requireCredential","kind","params","folderId","validator","$","type","ID","transform","name","optional","str","pipe","isValidFolderName","parentId","nullable","errors","noSuchFolder","message","code","id","noSuchParentFolder","recursiveNesting","define","ps","user","folder","DriveFolder","findOne","_id","userId","ApiError","undefined","equals","parent","checkCircle","folder2","update","$set","folderObj","pack","publishDriveStream"],"mappings":"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","file":"update.js","sourceRoot":"../../../../../../built"}