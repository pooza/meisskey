{"version":3,"sources":["server/api/endpoints/games/reversi/games/surrender.js"],"names":["meta","tags","desc","requireCredential","params","gameId","validator","$","type","ID","transform","errors","noSuchGame","message","code","id","alreadyEnded","accessDenied","define","ps","user","game","ReversiGame","findOne","_id","ApiError","isEnded","user1Id","equals","user2Id","winnerId","update","$set","surrendered","publishReversiGameStream","pack"],"mappings":";;;;;;;;IAOaA,IAAI;eAAJA;;IAwCb,OAiCG;eAjCH;;;sBA/Cc;wBACgB;sBACI;wBACO;wBACtB;uBACM;AAElB,MAAMA,OAAO;IACnBC,MAAM;QAAC;KAAQ;IAEfC,MAAM;QACL,SAAS;IACV;IAEAC,mBAAmB;IAEnBC,QAAQ;QACPC,QAAQ;YACPC,WAAWC,aAAC,CAACC,IAAI,CAACC,eAAE;YACpBC,WAAWA,iBAAS;YACpBR,MAAM;gBACL,SAAS;YACV;QACD;IACD;IAEAS,QAAQ;QACPC,YAAY;YACXC,SAAS;YACTC,MAAM;YACNC,IAAI;QACL;QAEAC,cAAc;YACbH,SAAS;YACTC,MAAM;YACNC,IAAI;QACL;QAEAE,cAAc;YACbJ,SAAS;YACTC,MAAM;YACNC,IAAI;QACL;IACD;AACD;MAEA,WAAeG,IAAAA,eAAM,EAAClB,MAAM,OAAOmB,IAAIC;IACtC,MAAMC,OAAO,MAAMC,aAAW,CAACC,OAAO,CAAC;QAAEC,KAAKL,GAAGd,MAAM;IAAC;IAExD,IAAIgB,QAAQ,MAAM;QACjB,MAAM,IAAII,eAAQ,CAACzB,KAAKW,MAAM,CAACC,UAAU;IAC1C;IAEA,IAAIS,KAAKK,OAAO,EAAE;QACjB,MAAM,IAAID,eAAQ,CAACzB,KAAKW,MAAM,CAACK,YAAY;IAC5C;IAEA,IAAI,CAACK,KAAKM,OAAO,CAACC,MAAM,CAACR,KAAKI,GAAG,KAAK,CAACH,KAAKQ,OAAO,CAACD,MAAM,CAACR,KAAKI,GAAG,GAAG;QACrE,MAAM,IAAIC,eAAQ,CAACzB,KAAKW,MAAM,CAACM,YAAY;IAC5C;IAEA,MAAMa,WAAWT,KAAKM,OAAO,CAACC,MAAM,CAACR,KAAKI,GAAG,IAAIH,KAAKQ,OAAO,GAAGR,KAAKM,OAAO;IAE5E,MAAML,aAAW,CAACS,MAAM,CAAC;QACxBP,KAAKH,KAAKG,GAAG;IACd,GAAG;QACFQ,MAAM;YACLC,aAAab,KAAKI,GAAG;YACrBE,SAAS;YACTI,UAAUA;QACX;IACD;IAEAI,IAAAA,gCAAwB,EAACb,KAAKG,GAAG,EAAE,SAAS;QAC3CM,UAAUA;QACVT,MAAM,MAAMc,IAAAA,UAAI,EAACd,KAAKG,GAAG,EAAEJ;IAC5B;IAEA;AACD","file":"surrender.js","sourceRoot":"../../../../../../../built"}