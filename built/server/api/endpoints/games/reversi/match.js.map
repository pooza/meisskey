{"version":3,"sources":["server/api/endpoints/games/reversi/match.js"],"names":["meta","tags","requireCredential","params","userId","validator","$","type","ID","transform","desc","errors","noSuchUser","message","code","id","isYourself","define","ps","user","equals","_id","ApiError","exist","Matching","findOne","parentId","childId","remove","game","ReversiGame","insert","createdAt","Date","user1Id","user2Id","user1Accepted","user2Accepted","isStarted","isEnded","logs","settings","map","eighteight","data","bw","isLlotheo","publishReversiStream","packGame","other","count","publishMainStream","child","getUser","catch","e","matching","packed","packMatching"],"mappings":";;;;;;;;IAUaA,IAAI;eAAJA;;IA+Bb,OAuEG;eAvEH;;;sBAzCc;wBACgB;0BACiB;sBACD;wBACU;sBAC7B;wBACR;uBACM;yBACD;AAEjB,MAAMA,OAAO;IACnBC,MAAM;QAAC;KAAQ;IAEfC,mBAAmB;IAEnBC,QAAQ;QACPC,QAAQ;YACPC,WAAWC,aAAC,CAACC,IAAI,CAACC,eAAE;YACpBC,WAAWA,iBAAS;YACpBC,MAAM;gBACL,SAAS;gBACT,SAAS;YACV;QACD;IACD;IAEAC,QAAQ;QACPC,YAAY;YACXC,SAAS;YACTC,MAAM;YACNC,IAAI;QACL;QAEAC,YAAY;YACXH,SAAS;YACTC,MAAM;YACNC,IAAI;QACL;IACD;AACD;MAEA,WAAeE,IAAAA,eAAM,EAACjB,MAAM,OAAOkB,IAAIC;IACtC,SAAS;IACT,IAAID,GAAGd,MAAM,CAACgB,MAAM,CAACD,KAAKE,GAAG,GAAG;QAC/B,MAAM,IAAIC,eAAQ,CAACtB,KAAKW,MAAM,CAACK,UAAU;IAC1C;IAEA,eAAe;IACf,MAAMO,QAAQ,MAAMC,iBAAQ,CAACC,OAAO,CAAC;QACpCC,UAAUR,GAAGd,MAAM;QACnBuB,SAASR,KAAKE,GAAG;IAClB;IAEA,IAAIE,OAAO;QACV,kBAAkB;QAClBC,iBAAQ,CAACI,MAAM,CAAC;YACfP,KAAKE,MAAMF,GAAG;QACf;QAEA,cAAc;QACd,MAAMQ,OAAO,MAAMC,aAAW,CAACC,MAAM,CAAC;YACrCC,WAAW,IAAIC;YACfC,SAASX,MAAMG,QAAQ;YACvBS,SAAShB,KAAKE,GAAG;YACjBe,eAAe;YACfC,eAAe;YACfC,WAAW;YACXC,SAAS;YACTC,MAAM,EAAE;YACRC,UAAU;gBACTC,KAAKC,gBAAU,CAACC,IAAI;gBACpBC,IAAI;gBACJC,WAAW;YACZ;QACD;QAEAC,IAAAA,4BAAoB,EAACxB,MAAMG,QAAQ,EAAE,WAAW,MAAMsB,IAAAA,UAAQ,EAACnB,MAAMN,MAAMG,QAAQ;QAEnF,MAAMuB,QAAQ,MAAMzB,iBAAQ,CAAC0B,KAAK,CAAC;YAClCvB,SAASR,KAAKE,GAAG;QAClB;QAEA,IAAI4B,SAAS,GAAG;YACfE,IAAAA,yBAAiB,EAAChC,KAAKE,GAAG,EAAE;QAC7B;QAEA,OAAO,MAAM2B,IAAAA,UAAQ,EAACnB,MAAMV;IAC7B,OAAO;QACN,cAAc;QACd,MAAMiC,QAAQ,MAAMC,IAAAA,gBAAO,EAACnC,GAAGd,MAAM,EAAEkD,KAAK,CAACC,CAAAA;YAC5C,IAAIA,EAAExC,EAAE,KAAK,wCAAwC,MAAM,IAAIO,eAAQ,CAACtB,KAAKW,MAAM,CAACC,UAAU;YAC9F,MAAM2C;QACP;QAEA,qBAAqB;QACrB,MAAM/B,iBAAQ,CAACI,MAAM,CAAC;YACrBF,UAAUP,KAAKE,GAAG;QACnB;QAEA,WAAW;QACX,MAAMmC,WAAW,MAAMhC,iBAAQ,CAACO,MAAM,CAAC;YACtCC,WAAW,IAAIC;YACfP,UAAUP,KAAKE,GAAG;YAClBM,SAASyB,MAAM/B,GAAG;QACnB;QAEA,MAAMoC,SAAS,MAAMC,IAAAA,cAAY,EAACF,UAAUJ;QAC5CL,IAAAA,4BAAoB,EAACK,MAAM/B,GAAG,EAAE,WAAWoC;QAC3CN,IAAAA,yBAAiB,EAACC,MAAM/B,GAAG,EAAE,kBAAkBoC;QAE/C;IACD;AACD","file":"match.js","sourceRoot":"../../../../../../built"}