{"version":3,"sources":["server/api/endpoints/i/notifications.js"],"names":["meta","desc","tags","requireCredential","kind","params","limit","validator","$","optional","num","range","default","sinceId","type","ID","transform","untilId","following","bool","markAsRead","includeTypes","arr","str","or","excludeTypes","res","items","define","ps","user","hideUserIds","getHideUserIds","query","notifieeId","_id","$and","notifierId","$nin","sort","followingIds","getFriendIds","push","$in","$gt","$lt","length","notifications","Notification","find","maxTimeMS","read","packMany"],"mappings":"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","file":"notifications.js","sourceRoot":"../../../../../built"}