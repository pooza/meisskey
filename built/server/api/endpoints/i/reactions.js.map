{"version":3,"sources":["server/api/endpoints/i/reactions.js"],"names":["meta","packMany","pack","desc","tags","requireCredential","kind","params","limit","validator","$","optional","num","range","default","sinceId","type","ID","transform","untilId","define","ps","user","query","userId","_id","sort","$gt","$lt","reactions","NoteReaction","find","favorites","me","Promise","all","map","f","reaction","_reaction","isObjectId","findOne","mongo","ObjectID","deepcopy","id","note","packNote","noteId","detail","dbLogger","warn"],"mappings":";;;;;;;;IAUaA,IAAI;eAAJA;;IA8Bb,OA4BG;eA5BH;;IA8BaC,QAAQ;eAARA;;IAUAC,IAAI;eAAJA;;;sBAhFC;wBACgB;wBACX;8BACM;yBACF;0BACG;4BACH;sBACU;wBACR;AAElB,MAAMF,OAAO;IACnBG,MAAM;QACL,SAAS;QACT,SAAS;IACV;IAEAC,MAAM;QAAC;QAAW;QAAS;KAAY;IAEvCC,mBAAmB;IAEnBC,MAAM;QAAC;QAAgB;QAAgB;KAAe;IAEtDC,QAAQ;QACPC,OAAO;YACNC,WAAWC,aAAC,CAACC,QAAQ,CAACC,GAAG,CAACC,KAAK,CAAC,GAAG;YACnCC,SAAS;QACV;QAEAC,SAAS;YACRN,WAAWC,aAAC,CAACC,QAAQ,CAACK,IAAI,CAACC,eAAE;YAC7BC,WAAWA,iBAAS;QACrB;QAEAC,SAAS;YACRV,WAAWC,aAAC,CAACC,QAAQ,CAACK,IAAI,CAACC,eAAE;YAC7BC,WAAWA,iBAAS;QACrB;IACD;AACD;MAEA,WAAeE,IAAAA,eAAM,EAACpB,MAAM,OAAOqB,IAAIC;IACtC,MAAMC,QAAQ;QACbC,QAAQF,KAAKG,GAAG;IACjB;IAEA,MAAMC,OAAO;QACZD,KAAK,CAAC;IACP;IAEA,IAAIJ,GAAGN,OAAO,EAAE;QACfW,KAAKD,GAAG,GAAG;QACXF,MAAME,GAAG,GAAG;YACXE,KAAKN,GAAGN,OAAO;QAChB;IACD,OAAO,IAAIM,GAAGF,OAAO,EAAE;QACtBI,MAAME,GAAG,GAAG;YACXG,KAAKP,GAAGF,OAAO;QAChB;IACD;IAEA,gBAAgB;IAChB,MAAMU,YAAY,MAAMC,qBAAY,CAClCC,IAAI,CAACR,OAAO;QACZf,OAAOa,GAAGb,KAAK;QACfkB,MAAMA;IACP;IAED,OAAO,MAAMzB,SAAS4B,WAAWP;AAClC;AAEO,MAAMrB,WAAW,CACvB+B,WACAC;IAEA,OAAOC,QAAQC,GAAG,CAACH,UAAUI,GAAG,CAACC,CAAAA,IAAKnC,KAAKmC,GAAGJ;AAC/C;AAKO,MAAM/B,OAAO,OACnBoC,UACAL;IAEA,IAAIM;IAEJ,WAAW;IACX,IAAIC,IAAAA,mBAAU,EAACF,WAAW;QACzBC,YAAY,MAAMT,qBAAY,CAACW,OAAO,CAAC;YACtChB,KAAKa;QACN;IACD,OAAO,IAAI,OAAOA,aAAa,UAAU;QACxCC,YAAY,MAAMT,qBAAY,CAACW,OAAO,CAAC;YACtChB,KAAK,IAAIiB,SAAMC,QAAQ,CAACL;QACzB;IACD,OAAO;QACNC,YAAYK,UAASN;IACtB;IAEA,mBAAmB;IACnBC,UAAUM,EAAE,GAAGN,UAAUd,GAAG;IAC5B,OAAOc,UAAUd,GAAG;IAEpB,gBAAgB;IAChBc,UAAUO,IAAI,GAAG,MAAMC,IAAAA,UAAQ,EAACR,UAAUS,MAAM,EAAEf,IAAI;QACrDgB,QAAQ;IACT;IAEA,8BAA8B;IAC9B,IAAIV,UAAUO,IAAI,IAAI,MAAM;QAC3BI,gBAAQ,CAACC,IAAI,CAAC,CAAC,gDAAgD,EAAEZ,UAAUM,EAAE,CAAC,OAAO,EAAEN,UAAUS,MAAM,CAAC,CAAC,CAAC;QAC1G,OAAO;IACR;IAEA,OAAOT;AACR","file":"reactions.js","sourceRoot":"../../../../../built"}