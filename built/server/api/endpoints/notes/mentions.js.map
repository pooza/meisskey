{"version":3,"sources":["server/api/endpoints/notes/mentions.js"],"names":["meta","desc","tags","requireCredential","params","following","validator","$","optional","bool","default","limit","num","range","sinceId","type","ID","transform","untilId","visibility","str","res","items","define","ps","user","followings","getFriends","_id","visibleQuery","$in","userId","visibleUserIds","$or","map","f","id","mentions","query","$and","deletedAt","hideUserIds","getHideUserIds","length","$nin","sort","followingIds","getFriendIds","$gt","$lt","Note","find","note","read","packMany"],"mappings":"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","file":"mentions.js","sourceRoot":"../../../../../built"}