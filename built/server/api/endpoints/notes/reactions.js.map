{"version":3,"sources":["server/api/endpoints/notes/reactions.js"],"names":["meta","desc","tags","requireCredential","params","noteId","validator","$","type","ID","transform","optional","nullable","str","limit","num","range","default","offset","sinceId","untilId","res","items","errors","noSuchNote","message","code","id","define","ps","user","note","getNote","catch","e","ApiError","query","_id","sort","$gt","$lt","toDbReactionNoResolve","reaction","$in","hideUserIds","getHideUserIdsById","userId","$nin","reactions","NoteReaction","find","skip","Promise","all","map","pack"],"mappings":";;;;;;;;IASaA,IAAI;eAAJA;;IA6Db,OA+CG;eA/CH;;;sBAtEc;wBACgB;8BACK;wBAChB;yBACK;uBACC;6BAC2B;8BACjB;AAE5B,MAAMA,OAAO;IACnBC,MAAM;QACL,SAAS;QACT,SAAS;IACV;IAEAC,MAAM;QAAC;QAAS;KAAY;IAE5BC,mBAAmB;IAEnBC,QAAQ;QACPC,QAAQ;YACPC,WAAWC,aAAC,CAACC,IAAI,CAACC,eAAE;YACpBC,WAAWA,iBAAS;YACpBT,MAAM;gBACL,SAAS;gBACT,SAAS;YACV;QACD;QAEAO,MAAM;YACLF,WAAWC,aAAC,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG;QACnC;QAEAC,OAAO;YACNR,WAAWC,aAAC,CAACI,QAAQ,CAACI,GAAG,CAACC,KAAK,CAAC,GAAG;YACnCC,SAAS;QACV;QAEAC,QAAQ;YACPZ,WAAWC,aAAC,CAACI,QAAQ,CAACI,GAAG;YACzBE,SAAS;QACV;QAEAE,SAAS;YACRb,WAAWC,aAAC,CAACI,QAAQ,CAACH,IAAI,CAACC,eAAE;YAC7BC,WAAWA,iBAAS;QACrB;QAEAU,SAAS;YACRd,WAAWC,aAAC,CAACI,QAAQ,CAACH,IAAI,CAACC,eAAE;YAC7BC,WAAWA,iBAAS;QACrB;IACD;IAEAW,KAAK;QACJb,MAAM;QACNc,OAAO;YACNd,MAAM;QACP;IACD;IAEAe,QAAQ;QACPC,YAAY;YACXC,SAAS;YACTC,MAAM;YACNC,IAAI;QACL;IACD;AACD;MAEA,WAAeC,IAAAA,eAAM,EAAC5B,MAAM,OAAO6B,IAAIC;IACtC,MAAMC,OAAO,MAAMC,IAAAA,gBAAO,EAACH,GAAGxB,MAAM,EAAEyB,MAAM,MAAMG,KAAK,CAACC,CAAAA;QACvD,IAAIA,EAAEP,EAAE,KAAK,wCAAwC,MAAM,IAAIQ,eAAQ,CAACnC,KAAKuB,MAAM,CAACC,UAAU;QAC9F,MAAMU;IACP;IAEA,MAAME,QAAQ;QACb/B,QAAQ0B,KAAKM,GAAG;IACjB;IAEA,MAAMC,OAAO;QACZD,KAAK,CAAC;IACP;IAEA,IAAIR,GAAGV,OAAO,EAAE;QACfmB,KAAKD,GAAG,GAAG;QACXD,MAAMC,GAAG,GAAG;YACXE,KAAKV,GAAGV,OAAO;QAChB;IACD,OAAO,IAAIU,GAAGT,OAAO,EAAE;QACtBgB,MAAMC,GAAG,GAAG;YACXG,KAAKX,GAAGT,OAAO;QAChB;IACD;IAEA,IAAIS,GAAGrB,IAAI,EAAE;QACZ,MAAMA,OAAO,MAAMiC,IAAAA,kCAAqB,EAACZ,GAAGrB,IAAI;QAChD,uCAAuC;QACvC4B,MAAMM,QAAQ,GAAGlC;QAEjB,IAAI4B,MAAMM,QAAQ,KAAK,QAAQN,MAAMM,QAAQ,KAAK,WAAW;YAC5DN,MAAMM,QAAQ,GAAG;gBAAEC,KAAK;oBAAE;oBAAM;iBAAW;YAAC;QAC7C;IACD;IAEA,IAAIb,MAAM;QACT,MAAMc,cAAc,MAAMC,IAAAA,gCAAkB,EAACf,KAAKO,GAAG,EAAE,MAAM;QAC7DD,MAAMU,MAAM,GAAG;YAAEC,MAAMH;QAAY;IACpC;IAEA,MAAMI,YAAY,MAAMC,qBAAY,CAACC,IAAI,CAACd,OAAO;QAChDtB,OAAOe,GAAGf,KAAK;QACfqC,MAAMtB,GAAGX,MAAM;QACfoB,MAAMA;IACP;IAEA,OAAO,MAAMc,QAAQC,GAAG,CAACL,UAAUM,GAAG,CAACZ,CAAAA,WAAYa,IAAAA,kBAAI,EAACb,UAAUZ;AACnE","file":"reactions.js","sourceRoot":"../../../../../built"}