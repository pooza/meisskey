{"version":3,"sources":["server/api/endpoints/notes/replies.js"],"names":["meta","desc","tags","requireCredential","params","noteId","validator","$","type","ID","transform","limit","optional","num","range","default","offset","min","res","items","define","ps","user","followings","hideUserIds","Promise","all","getFriends","_id","getHideUserIds","visibleQuery","visibility","$in","userId","visibleUserIds","$or","map","f","id","mentions","q","replyId","length","$nin","notes","Note","find","skip","packMany"],"mappings":";;;;;;;;IAOaA,IAAI;eAAJA;;IAuCb,OAmDG;eAnDH;;;sBA9Cc;wBACgB;sBACC;wBACZ;4BACQ;8BACI;AAExB,MAAMA,OAAO;IACnBC,MAAM;QACL,SAAS;QACT,SAAS;IACV;IAEAC,MAAM;QAAC;KAAQ;IAEfC,mBAAmB;IAEnBC,QAAQ;QACPC,QAAQ;YACPC,WAAWC,aAAC,CAACC,IAAI,CAACC,eAAE;YACpBC,WAAWA,iBAAS;YACpBT,MAAM;gBACL,SAAS;gBACT,SAAS;YACV;QACD;QAEAU,OAAO;YACNL,WAAWC,aAAC,CAACK,QAAQ,CAACC,GAAG,CAACC,KAAK,CAAC,GAAG;YACnCC,SAAS;QACV;QAEAC,QAAQ;YACPV,WAAWC,aAAC,CAACK,QAAQ,CAACC,GAAG,CAACI,GAAG,CAAC;YAC9BF,SAAS;QACV;IACD;IAEAG,KAAK;QACJV,MAAM;QACNW,OAAO;YACNX,MAAM;QACP;IACD;AACD;MAEA,WAAeY,IAAAA,eAAM,EAACpB,MAAM,OAAOqB,IAAIC;IACtC,MAAM,CAACC,YAAYC,YAAY,GAAG,MAAMC,QAAQC,GAAG,CAAC;QACnD,UAAU;QACV,kBAAkB;QAClBJ,OAAOK,IAAAA,sBAAU,EAACL,KAAKM,GAAG,IAAI,EAAE;QAEhC,YAAY;QACZC,IAAAA,4BAAc,EAACP,MAAM;KACrB;IAED,MAAMQ,eAAeR,QAAQ,OAAO;QAAC;YACpCS,YAAY;gBAAEC,KAAK;oBAAE;oBAAU;iBAAQ;YAAC;QACzC;KAAE,GAAG;QAAC;YACLD,YAAY;gBAAEC,KAAK;oBAAE;oBAAU;iBAAQ;YAAC;QACzC;QAAG;YACF,2CAA2C;YAC3CC,QAAQX,KAAKM,GAAG;QACjB;QAAG;YACF,wBAAwB;YACxBM,gBAAgB;gBAAEF,KAAK;oBAAEV,KAAKM,GAAG;iBAAE;YAAC;QACrC;QAAG;YACFG,YAAY;YACZI,KAAK;gBAAC;oBACL,WAAW;oBACXF,QAAQ;wBAAED,KAAKT,WAAWa,GAAG,CAACC,CAAAA,IAAKA,EAAEC,EAAE;oBAAE;gBAC1C;gBAAG;oBACF,cAAc;oBACd,iBAAiBhB,KAAKM,GAAG;gBAC1B;gBAAG;oBACF,mBAAmB;oBACnBW,UAAU;wBAAEP,KAAK;4BAAEV,KAAKM,GAAG;yBAAE;oBAAC;gBAC/B;aAAE;QACH;KAAE;IAEF,MAAMY,IAAI;QACTC,SAASpB,GAAGhB,MAAM;QAClB8B,KAAKL;IACN;IAEA,IAAIN,eAAeA,YAAYkB,MAAM,GAAG,GAAG;QAC1CF,CAAC,CAAC,SAAS,GAAG;YACbG,MAAMnB;QACP;IACD;IAEA,MAAMoB,QAAQ,MAAMC,aAAI,CAACC,IAAI,CAACN,GAAG;QAChC7B,OAAOU,GAAGV,KAAK;QACfoC,MAAM1B,GAAGL,MAAM;IAChB;IAEA,OAAO,MAAMgC,IAAAA,cAAQ,EAACJ,OAAOtB;AAC9B","file":"replies.js","sourceRoot":"../../../../../built"}