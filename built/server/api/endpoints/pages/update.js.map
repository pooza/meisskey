{"version":3,"sources":["server/api/endpoints/pages/update.js"],"names":["meta","desc","tags","requireCredential","kind","params","pageId","validator","$","type","ID","title","str","name","min","summary","optional","nullable","content","arr","obj","variables","eyeCatchingImageId","transform","font","or","alignCenter","bool","sensitive","hideTitleWhenPinned","errors","noSuchPage","message","code","id","accessDenied","noSuchFile","nameAlreadyExists","define","ps","user","page","Page","findOne","ApiError","oidEquals","userId","_id","eyeCatchingImage","DriveFile","find","$ne","then","result","length","update","$set","updatedAt","Date","undefined"],"mappings":"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","file":"update.js","sourceRoot":"../../../../../built"}