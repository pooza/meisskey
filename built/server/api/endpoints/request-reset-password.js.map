{"version":3,"sources":["server/api/endpoints/request-reset-password.js"],"names":["meta","tags","requireCredential","limit","duration","ms","max","params","username","validator","$","str","min","email","errors","define","ps","user","User","findOne","usernameLower","toLowerCase","host","apiLogger","warn","isLocalUser","Error","isDeleted","isSuspended","emailVerified","token","secureRndstr","PasswordResetRequest","insert","createdAt","Date","userId","_id","link","config","url","sendEmail"],"mappings":";;;;;;;;IAUaA,IAAI;eAAJA;;IAwBb,OAsDG;eAtDH;;;sBAlCc;wBACK;oBACC;2BACM;sBACQ;sCACD;wBACd;8BACU;wBACH;AAEnB,MAAMA,OAAO;IACnBC,MAAM;QAAC;KAAiB;IAExBC,mBAAmB;IAEnBC,OAAO;QACNC,UAAUC,IAAG;QACbC,KAAK;IACN;IAEAC,QAAQ;QACPC,UAAU;YACTC,WAAWC,aAAC,CAACC,GAAG,CAACC,GAAG,CAAC;QACtB;QAEAC,OAAO;YACNJ,WAAWC,aAAC,CAACC,GAAG,CAACC,GAAG,CAAC;QACtB;IACD;IAEAE,QAAQ,CACR;AACD;MAEA,WAAeC,IAAAA,eAAM,EAACf,MAAM,OAAOgB;IAClC,MAAMC,OAAO,MAAMC,aAAI,CAACC,OAAO,CAAC;QAC/BC,eAAeJ,GAAGR,QAAQ,CAACa,WAAW;QACtCC,MAAM;IACP;IAEA,eAAe;IACf,IAAIL,QAAQ,MAAM;QACjBM,iBAAS,CAACC,IAAI,CAAC,CAAC,6BAA6B,EAAER,GAAGR,QAAQ,CAAC,gBAAgB,CAAC;QAC5E,QAAQ,eAAe;IACxB;IAEA,+BAA+B;IAC/B,IAAI,CAACiB,IAAAA,iBAAW,EAACR,OAAO,MAAM,IAAIS;IAElC,OAAO;IACP,IAAIT,KAAKU,SAAS,IAAI,MAAM;QAC3BJ,iBAAS,CAACC,IAAI,CAAC,CAAC,6BAA6B,EAAER,GAAGR,QAAQ,CAAC,cAAc,CAAC;QAC1E,QAAQ,eAAe;IACxB;IAEA,UAAU;IACV,IAAIS,KAAKW,WAAW,EAAE;QACrBL,iBAAS,CAACC,IAAI,CAAC,CAAC,6BAA6B,EAAER,GAAGR,QAAQ,CAAC,gBAAgB,CAAC;QAC5E,QAAQ,eAAe;IACxB;IAEA,wBAAwB;IACxB,IAAIS,KAAKJ,KAAK,KAAKG,GAAGH,KAAK,EAAE;QAC5B,IAAI;YACHU,iBAAS,CAACC,IAAI,CAAC,CAAC,6BAA6B,EAAER,GAAGR,QAAQ,CAAC,sBAAsB,CAAC;QACnF,EAAE,UAAM,CAAC;QACT,QAAQ,gBAAgB;IACzB;IAEA,oBAAoB;IACpB,IAAI,CAACS,KAAKY,aAAa,EAAE;QACxB,IAAI;YACHN,iBAAS,CAACC,IAAI,CAAC,CAAC,6BAA6B,EAAER,GAAGR,QAAQ,CAAC,yBAAyB,CAAC;QACtF,EAAE,UAAM,CAAC;QACT,QAAQ,gBAAgB;IACzB;IAEA,MAAMsB,QAAQC,IAAAA,0BAAY,EAAC;IAE3B,MAAMC,6BAAoB,CAACC,MAAM,CAAC;QACjCC,WAAW,IAAIC;QACfC,QAAQnB,KAAKoB,GAAG;QAChBP;IACD;IAEA,MAAMQ,OAAO,CAAC,EAAEC,eAAM,CAACC,GAAG,CAAC,gBAAgB,EAAEV,MAAM,CAAC;IAEpDW,IAAAA,oBAAS,EAACzB,GAAGH,KAAK,EAAE,4BAA4B,CAAC,gDAAgD,EAAEyB,KAAK,CAAC;AAC1G","file":"request-reset-password.js","sourceRoot":"../../../../built"}