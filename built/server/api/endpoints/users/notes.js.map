{"version":3,"sources":["server/api/endpoints/users/notes.js"],"names":["meta","desc","tags","requireCredential","allowGet","cacheSec","params","userId","validator","$","type","ID","transform","includeReplies","optional","bool","default","limit","num","range","sinceId","untilId","sinceDate","untilDate","includeMyRenotes","includeRenotedMyNotes","includeLocalRenotes","withFiles","mediaOnly","deprecated","fileType","arr","str","excludeNsfw","res","items","errors","noSuchUser","message","code","id","define","ps","me","user","getUser","catch","e","ApiError","isFollowing","Following","findOne","followerId","_id","followeeId","sort","visibleQuery","visibility","$in","visibleUserIds","query","$and","deletedAt","$or","$gt","$lt","createdAt","Date","push","replyId","$expr","$eq","$ne","renoteId","text","fileIds","poll","$exists","getPackedTimeline"],"mappings":"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","file":"notes.js","sourceRoot":"../../../../../built"}