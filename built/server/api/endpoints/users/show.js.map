{"version":3,"sources":["server/api/endpoints/users/show.js"],"names":["meta","cursorOption","fields","data","desc","tags","requireCredential","allowGet","cacheSec","params","userId","validator","$","optional","type","ID","transform","userIds","arr","unique","transformMany","username","str","host","nullable","res","errors","failedToResolveRemoteUser","message","code","id","kind","noSuchUser","define","ps","me","user","users","User","find","_id","$in","Promise","all","map","u","pack","detail","resolveRemoteUser","catch","e","apiLogger","warn","ApiError","q","usernameLower","toLowerCase","findOne","isRemoteUser","isDeleted","isAdmin","isModerator","isSuspended"],"mappings":"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","file":"show.js","sourceRoot":"../../../../../built"}