{"version":3,"sources":["server/api/openapi/gen-spec.js"],"names":["genOpenapiSpec","lang","spec","openapi","info","version","title","description","getDescription","url","externalDocs","repositoryUrl","servers","config","apiUrl","paths","components","schemas","securitySchemes","ApiKeyAuth","type","in","name","genProps","props","properties","k","v","Object","entries","genProp","param","required","filter","isOptional","map","data","desc","default","deprecated","toLowerCase","example","format","nullable","isNullable","enum","minLength","maxLength","minimum","maximum","length","items","ctx","endpoint","endpoints","ep","meta","secure","startsWith","porops","errors","e","values","code","value","error","params","validator","schema","resSchema","res","convertOpenApiSchema","requireCredential","kind","requireAdmin","requireModerator","allowGet","operationId","summary","tags","security","requestBody","content","requireFile","responses","$ref","examples","basicErrors","post"],"mappings":"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","file":"gen-spec.js","sourceRoot":"../../../../built"}