{"version":3,"sources":["server/api/stream/channels/user-list.js"],"names":["Channel","init","params","listId","refreshLists","followings","Following","find","followerId","user","_id","followingIds","map","x","followeeId","includeForeignReply","list","subscriber","on","send","onNote","refreshClock","setInterval","hideRenotes","UserFilter","ownerId","hideRenote","hideRenoteUsers","targetId","toString","UserList","findOne","userId","note","mediaOnly","medias","types","files","type","some","includes","hosts","userIds","host","config","visibility","pack","id","detail","isHidden","replyId","reply","renoteId","renote","shouldMuteThisNote","mutedUserIds","text","fileIds","length","poll","oidIncludes","oidEquals","dispose","off","clearInterval","chName","requireCredential","autobind"],"mappings":"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","file":"user-list.js","sourceRoot":"../../../../../built"}