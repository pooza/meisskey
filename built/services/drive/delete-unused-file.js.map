{"version":3,"sources":["services/drive/delete-unused-file.js"],"names":["deleteUnusedFile","fileId","detail","file","DriveFile","findOne","metadata","userId","user","User","isRemoteUser","console","log","_id","oidEquals","avatarId","bannerId","attachedNoteIds","length","attachedMessageIds","deleteFile"],"mappings":";+BAMsBA;;;eAAAA;;;2BANA;sBAEa;4BACZ;qBACG;AAEnB,eAAeA,iBAAiBC,MAAgB,EAAEC,SAAS,KAAK;QAEjEC,gBAAAA;IADL,MAAMA,OAAO,MAAMC,kBAAS,CAACC,OAAO,CAACJ;IACrC,IAAI,GAACE,QAAAA,kBAAAA,6BAAAA,iBAAAA,MAAMG,QAAQ,cAAdH,qCAAAA,eAAgBI,MAAM,GAAE;QAC5B;IACD;IAEA,MAAMC,OAAO,MAAMC,aAAI,CAACJ,OAAO,CAACF,KAAKG,QAAQ,CAACC,MAAM;IACpD,IAAI,CAACG,IAAAA,kBAAY,EAACF,OAAO;QACxB,IAAIN,QAAQS,QAAQC,GAAG,CAAC,CAAC,EAAE,EAAET,KAAKU,GAAG,CAAC,kBAAkB,CAAC;QACzD;IACD;IAEA,IAAIC,IAAAA,cAAS,EAACX,KAAKU,GAAG,EAAEL,KAAKO,QAAQ,KAAKD,IAAAA,cAAS,EAACX,KAAKU,GAAG,EAAEL,KAAKQ,QAAQ,GAAG;QAC7E,IAAId,QAAQS,QAAQC,GAAG,CAAC,CAAC,EAAE,EAAET,KAAKU,GAAG,CAAC,0BAA0B,CAAC;QACjE;IACD;IAEA,IAAI,CAACV,KAAKG,QAAQ,CAACW,eAAe,IAAId,KAAKG,QAAQ,CAACW,eAAe,CAACC,MAAM,KAAK,GAAG;QACjF,IAAIhB,QAAQS,QAAQC,GAAG,CAAC,CAAC,EAAE,EAAET,KAAKU,GAAG,CAAC,cAAc,CAAC;QACrD;IACD;IAEA,IAAI,CAACV,KAAKG,QAAQ,CAACa,kBAAkB,IAAIhB,KAAKG,QAAQ,CAACa,kBAAkB,CAACD,MAAM,KAAK,GAAG;QACvF,IAAIhB,QAAQS,QAAQC,GAAG,CAAC,CAAC,EAAE,EAAET,KAAKU,GAAG,CAAC,iBAAiB,CAAC;QACxD;IACD;IAEA,IAAIX,QAAQS,QAAQC,GAAG,CAAC,CAAC,EAAE,EAAET,KAAKU,GAAG,CAAC,OAAO,CAAC;IAC9C,MAAMO,IAAAA,mBAAU,EAACjB;AAClB","file":"delete-unused-file.js","sourceRoot":"../../../built"}