{"version":3,"sources":["services/following/delete.js"],"names":["decrementFollowing","logger","Logger","follower","followee","silent","following","Following","findOne","followerId","_id","followeeId","warn","remove","isLocalUser","packUser","detail","then","packed","publishMainStream","publishFollowingChanged","isRemoteUser","content","renderActivity","renderUndo","renderFollow","deliver","inbox","renderReject","User","update","$inc","followingCount","followersCount","registerOrFetchInstanceDoc","host","i","Instance","instanceChart","updateFollowing","updateFollowers","perUserFollowingChart"],"mappings":"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","file":"delete.js","sourceRoot":"../../../built"}