{"version":3,"sources":["services/messages/delete.js"],"names":["deleteMessage","message","MessagingMessage","remove","_id","postDeleteMessage","user","User","findOne","userId","recipient","recipientId","isLocalUser","publishMessagingStream","fileId","DriveFile","update","$pull"],"mappings":";+BAKsBA;;;eAAAA;;;sBALY;kCACkB;wBACb;2BACjB;AAEf,eAAeA,cAAcC,OAA0B;IAC7D,MAAMC,yBAAgB,CAACC,MAAM,CAAC;QAAEC,KAAKH,QAAQG,GAAG;IAAC;IACjDC,kBAAkBJ;AACnB;AAEA,eAAeI,kBAAkBJ,OAA0B;IAC1D,MAAMK,OAAO,MAAMC,aAAI,CAACC,OAAO,CAAC;QAAEJ,KAAKH,QAAQQ,MAAM;IAAA;IACrD,MAAMC,YAAY,MAAMH,aAAI,CAACC,OAAO,CAAC;QAAEJ,KAAKH,QAAQU,WAAW;IAAA;IAC/D,IAAIL,QAAQ,QAAQI,aAAa,MAAM;IAEvC,IAAIE,IAAAA,iBAAW,EAACN,OAAO;QACtBO,IAAAA,8BAAsB,EAACP,KAAKF,GAAG,EAAEH,QAAQU,WAAW,EAAE,WAAWV,QAAQG,GAAG;IAC7E;IAEA,IAAIQ,IAAAA,iBAAW,EAACF,YAAY;QAC3BG,IAAAA,8BAAsB,EAACH,UAAUN,GAAG,EAAEH,QAAQQ,MAAM,EAAE,WAAWR,QAAQG,GAAG;IAC7E;IAEA,kEAAkE;IAClE,IAAIH,QAAQa,MAAM,EAAE;QACnBC,kBAAS,CAACC,MAAM,CAAC;YAAEZ,KAAKH,QAAQa,MAAM;QAAC,GAAG;YACzCG,OAAO;gBACN,+BAA+BhB,QAAQG,GAAG;YAC3C;QACD;IACD;AACD","file":"delete.js","sourceRoot":"../../../built"}