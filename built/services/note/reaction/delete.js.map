{"version":3,"sources":["services/note/reaction/delete.js"],"names":["user","note","exist","NoteReaction","findOne","noteId","_id","userId","deletedAt","$exists","IdentifiableError","result","remove","deletedCount","dec","reaction","score","isBot","dislike","Note","update","$inc","Notification","notifierId","publishNoteStream","decodeReaction","isLocalUser","localOnly","noFederation","content","renderActivity","renderUndo","renderLike","isRemoteUser","_user","deliverToUser","deliverToFollowers"],"mappings":";+BAYA;;;eAAA;;;sBAZiD;sBACrB;8BACH;wBACS;sBACP;sBACJ;0BACQ;gCACmB;mCAChB;6BACH;8BACN;MAEzB,WAAe,OAAOA,MAAaC;IAClC,uBAAuB;IACvB,MAAMC,QAAQ,MAAMC,qBAAY,CAACC,OAAO,CAAC;QACxCC,QAAQJ,KAAKK,GAAG;QAChBC,QAAQP,KAAKM,GAAG;QAChBE,WAAW;YAAEC,SAAS;QAAM;IAC7B;IAEA,IAAIP,SAAS,MAAM;QAClB,MAAM,IAAIQ,oCAAiB,CAAC,wCAAwC;IACrE;IAEA,kBAAkB;IAClB,MAAMC,SAAS,MAAMR,qBAAY,CAACS,MAAM,CAAC;QACxCN,KAAKJ,MAAMI,GAAG;IACf;IAEA,IAAIK,OAAOE,YAAY,KAAK,GAAG;QAC9B,MAAM,IAAIH,oCAAiB,CAAC,wCAAwC;IACrE;IAEA,MAAMI,MAAW,CAAC;IAClBA,GAAG,CAAC,CAAC,eAAe,EAAEZ,MAAMa,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC;IAC3CD,IAAIE,KAAK,GAAG,AAAChB,KAAKiB,KAAK,IAAIf,MAAMgB,OAAO,GAAI,IAAI,CAAC;IAEjD,4BAA4B;IAC5BC,aAAI,CAACC,MAAM,CAAC;QAAEd,KAAKL,KAAKK,GAAG;IAAC,GAAG;QAC9Be,MAAMP;IACP;IAEAQ,qBAAY,CAACV,MAAM,CAAC;QACnBP,QAAQJ,KAAKK,GAAG;QAChBiB,YAAYvB,KAAKM,GAAG;QACpBS,UAAUb,MAAMa,QAAQ;IACzB;IAEAS,IAAAA,yBAAiB,EAACvB,KAAKK,GAAG,EAAE,aAAa;QACxCS,UAAUU,IAAAA,2BAAc,EAACvB,MAAMa,QAAQ;QACvCR,QAAQP,KAAKM,GAAG;IACjB;IAEA,YAAY;IACZ,IAAIoB,IAAAA,iBAAW,EAAC1B,SAAS,CAACC,KAAK0B,SAAS,IAAI,CAAC3B,KAAK4B,YAAY,EAAE;QAC/D,MAAMC,UAAUC,IAAAA,wBAAc,EAACC,IAAAA,aAAU,EAAC,MAAMC,IAAAA,gBAAU,EAAC9B,OAAOD,OAAOD,OAAOA;QAChF,IAAIiC,IAAAA,kBAAY,EAAChC,KAAKiC,KAAK,GAAGC,IAAAA,6BAAa,EAACnC,MAAM6B,SAAS5B,KAAKiC,KAAK;QACrEE,IAAAA,kCAAkB,EAACpC,MAAM6B,SAAS;IAClC,iCAAiC;IAClC;IACA,YAAY;IAEZ;AACD","file":"delete.js","sourceRoot":"../../../../built"}