{"version":3,"sources":["services/note/read.js"],"names":["user","note","Promise","resolve","reject","userId","isObjectId","mongo","ObjectID","noteId","res","NoteUnread","remove","deletedCount","hideUserIds","getHideUserIdsById","count1","count","$nin","isSpecified","limit","count2","User","update","_id","$set","hasUnreadMentions","hasUnreadSpecifiedNotes","publishMainStream"],"mappings":";+BAOA;;CAEC,GACD;;;eAAA;;;yBAVuB;4BACA;wBACW;sBACjB;4BACM;8BACY;MAKnC,WAAe,CACdA,MACAC,OACI,IAAIC,QAAa,OAAOC,SAASC;QAErC,MAAMC,SAAyBC,IAAAA,mBAAU,EAACN,QACvCA,OACA,IAAIO,SAAMC,QAAQ,CAACR;QAEtB,MAAMS,SAAyBH,IAAAA,mBAAU,EAACL,QACvCA,OACA,IAAIM,SAAMC,QAAQ,CAACP;QAEtB,kBAAkB;QAClB,MAAMS,MAAM,MAAMC,mBAAU,CAACC,MAAM,CAAC;YACnCP,QAAQA;YACRI,QAAQA;QACT;QAEA,IAAIC,IAAIG,YAAY,IAAI,GAAG;YAC1B;QACD;QAEA,MAAMC,cAAc,MAAMC,IAAAA,gCAAkB,EAACf,MAAM,OAAO;QAE1D,MAAMgB,SAAS,MAAML,mBAAU,CAC7BM,KAAK,CAAC;YACNZ,QAAQA;YACR,gBAAgB;gBAAEa,MAAMJ;YAAY;YACpCK,aAAa;QACd,GAAG;YACFC,OAAO;QACR;QAED,MAAMC,SAAS,MAAMV,mBAAU,CAC7BM,KAAK,CAAC;YACNZ,QAAQA;YACR,gBAAgB;gBAAEa,MAAMJ;YAAY;YACpCK,aAAa;QACd,GAAG;YACFC,OAAO;QACR;QAED,IAAIJ,UAAU,KAAKK,UAAU,GAAG;YAC/BC,aAAI,CAACC,MAAM,CAAC;gBAAEC,KAAKnB;YAAO,GAAG;gBAC5BoB,MAAM;oBACLC,mBAAmBV,UAAU,KAAKK,UAAU;oBAC5CM,yBAAyBN,UAAU;gBACpC;YACD;QACD;QAEA,IAAIL,UAAU,GAAG;YAChB,kBAAkB;YAClBY,IAAAA,yBAAiB,EAACvB,QAAQ;QAC3B;QAEA,IAAIgB,UAAU,GAAG;YAChB,kBAAkB;YAClBO,IAAAA,yBAAiB,EAACvB,QAAQ;QAC3B;IACD","file":"read.js","sourceRoot":"../../../built"}