{"version":3,"sources":["services/note/unread.js"],"names":["user","note","isSpecified","mute","getMute","_id","userId","blocks","getBlocks","length","unread","NoteUnread","insert","noteId","_note","setTimeout","exist","findOne","User","update","$set","hasUnreadSpecifiedNotes","hasUnreadMentions","publishMainStream"],"mappings":";+BAKA;;;eAAA;;;4BALuB;sBACyB;wBAEd;AAEnB,eAAf,SAA8BA,IAAW,EAAEC,IAAW,EAAEC,cAAc,KAAK;IAC1E,sBAAsB;IACtB,MAAMC,OAAO,MAAMC,IAAAA,aAAO,EAACJ,KAAKK,GAAG,EAAEJ,KAAKK,MAAM;IAChD,IAAIH,MAAM;IACV,MAAMI,SAAS,MAAMC,IAAAA,eAAS,EAACR,KAAKK,GAAG,EAAEJ,KAAKK,MAAM;IACpD,IAAIC,OAAOE,MAAM,GAAG,GAAG;IACvB,YAAY;IAEZ,MAAMC,SAAS,MAAMC,mBAAU,CAACC,MAAM,CAAC;QACtCC,QAAQZ,KAAKI,GAAG;QAChBC,QAAQN,KAAKK,GAAG;QAChBH;QACAY,OAAO;YACNR,QAAQL,KAAKK,MAAM;QACpB;IACD;IAEA,yCAAyC;IACzCS,WAAW;QACV,MAAMC,QAAQ,MAAML,mBAAU,CAACM,OAAO,CAAC;YAAEZ,KAAKK,OAAOL,GAAG;QAAC;QACzD,IAAIW,SAAS,MAAM;QAEnBE,aAAI,CAACC,MAAM,CAAC;YACXd,KAAKL,KAAKK,GAAG;QACd,GAAG;YACFe,MAAMlB,cAAc;gBACnBmB,yBAAyB;gBACzBC,mBAAmB;YACpB,IAAI;gBACHA,mBAAmB;YACpB;QACD;QAEAC,IAAAA,yBAAiB,EAACvB,KAAKK,GAAG,EAAE,iBAAiBJ,KAAKI,GAAG;QAErD,IAAIH,aAAa;YAChBqB,IAAAA,yBAAiB,EAACvB,KAAKK,GAAG,EAAE,uBAAuBJ,KAAKI,GAAG;QAC5D;IACD,GAAG;AACJ","file":"unread.js","sourceRoot":"../../../built"}