{"version":3,"sources":["tools/clean-reactions.js"],"names":["main","c","cursor","ObjectID","console","log","datas","NoteReaction","aggregate","$match","_id","$gt","$sort","$limit","$lookup","from","let","userId","pipeline","$expr","$eq","$project","username","host","as","$unwind","noteId","length","data","del","user","note","_user","createdAt","toISOString","remove","args","process","argv","slice","then","setTimeout","exit"],"mappings":"AAAA,8BAA8B;AAC9B,4CAA4C;AAE5C,MAAM;AACN,iDAAiD;AACjD,0EAA0E;;yBAEjD;8BACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEzB;;CAEC,GACD,eAAeA,KAAKC,CAAS;IAC5B,IAAIC,SAASD,IAAI,IAAIE,iBAAQ,CAACF,KAAK;IAEnC,MAAO,KAAM;QACZG,QAAQC,GAAG,CAAC,CAAC,gBAAgB,EAAEH,OAAO,CAAC;QAEvC,uBAAuB;QACvB,MAAMI,QAAQ,MAAMC,qBAAY,CAACC,SAAS,CAAC;YAC1C;gBACCC,QAAQ,mBACHP,SAAS;oBAAEQ,KAAK;wBAAEC,KAAKT;oBAAO;gBAAE,IAAI,CAAC;YAE3C;YACA;gBACCU,OAAO;oBAAEF,KAAK;gBAAE;YACjB;YACA;gBACCG,QAAQ;YACT;YACA,YAAY;YACZ;gBACCC,SAAS;oBACRC,MAAM;oBACNC,KAAK;wBAAEC,QAAQ;oBAAU;oBACzBC,UAAU;wBACT;4BACCT,QAAQ;gCACPU,OAAO;oCACNC,KAAK;wCAAE;wCAAQ;qCAAY;gCAC5B;4BACD;wBACD;wBAAG;4BACFC,UAAU;gCACTC,UAAU;gCACVC,MAAM;4BACP;wBACD;qBACA;oBACDC,IAAI;gBACL;YACD;YAAG;gBACFC,SAAS;YACV;YACA,YAAY;YACZ;gBACCX,SAAS;oBACRC,MAAM;oBACNC,KAAK;wBAAEU,QAAQ;oBAAU;oBACzBR,UAAU;wBACT;4BACCT,QAAQ;gCACPU,OAAO;oCACNC,KAAK;wCAAE;wCAAQ;qCAAY;gCAC5B;4BACD;wBACD;wBAAG;4BACFC,UAAU;gCACTJ,QAAQ;gCACR,cAAc;4BACf;wBACD;qBACA;oBACDO,IAAI;gBACL;YACD;YAAG;gBACFC,SAAS;YACV;SACA;QAED,IAAInB,MAAMqB,MAAM,KAAK,GAAG;YACvBvB,QAAQC,GAAG,CAAC;YACZ;QACD;QAEAH,SAASI,KAAK,CAACA,MAAMqB,MAAM,GAAG,EAAE,CAACjB,GAAG;QAEpC,KAAK,MAAMkB,QAAQtB,MAAO;gBAE0BsB;YADnD,MAAMC,MAAMD,KAAKE,IAAI,CAACP,IAAI,IAAI,QAAQK,KAAKG,IAAI,CAACC,KAAK,CAACT,IAAI,IAAI;YAC9DnB,QAAQC,GAAG,CAAC,CAAC,EAAEwB,MAAM,QAAQ,MAAO,CAAC,EAAED,KAAKlB,GAAG,CAAC,CAAC,GAAEkB,kBAAAA,KAAKK,SAAS,cAAdL,sCAAAA,gBAAgBM,WAAW,GAAG,CAAC,EAAEN,KAAKE,IAAI,CAACP,IAAI,CAAC,IAAI,EAAEK,KAAKG,IAAI,CAACC,KAAK,CAACT,IAAI,CAAC,CAAC;YAC/H,IAAIM,KAAK;gBACR,MAAMtB,qBAAY,CAAC4B,MAAM,CAAC;oBACzBzB,KAAKkB,KAAKlB,GAAG;gBACd;YACD;QACD;IACD;AACD;AAEA,MAAM0B,OAAOC,QAAQC,IAAI,CAACC,KAAK,CAAC;AAEhCvC,KAAKoC,IAAI,CAAC,EAAE,EAAEI,IAAI,CAAC;IAClBpC,QAAQC,GAAG,CAAC;IACZoC,WAAW;QACVJ,QAAQK,IAAI,CAAC;IACd,GAAG,KAAK;AACT","file":"clean-reactions.js","sourceRoot":"../../built"}